Last login: Tue Jun 17 16:23:33 on ttys036
mishimayu@MacBookAir ~ % cd /Users/mishimayu/Desktop/talknote
mishimayu@MacBookAir talknote % NODE_ENV=home npx expo start --clear
NODE_ENV="home" is non-conventional and might cause development code to run in production. Use "development", "test", or "production" instead. Continuing with non-conventional mode
env: load .env.home .env
env: export EXPO_PUBLIC_API_BASE_URL EXPO_PUBLIC_STT_BASE_URL EXPO_PUBLIC_ENVIRONMENT OPENAI_API_KEY OPENAI_MODEL ANTHROPIC_API_KEY ANTHROPIC_MODEL FIREBASE_PROJECT_ID GOOGLE_APPLICATION_CREDENTIALS GCP_PROJECT_ID GCS_BUCKET GCS_UPLOAD_FOLDER PUBSUB_ENABLED PUBSUB_MEDIA_TOPIC STT_PROVIDER DATABASE_URL FEATURE_OFFLINE_MODE FEATURE_ASYNC_PROCESSING FEATURE_OCR FEATURE_AI_CHAT FEATURE_RESEARCH TEST_USER_EMAIL TEST_USER_PASSWORD BYPASS_AUTH YAHOO_API_CLIENT_ID FEATURE_PUBSUB DEBUG TTS_DEFAULT_PROVIDER MINIMAX_TTS_API_KEY MINIMAX_TTS_ENDPOINT GEMINI_TTS_API_KEY GEMINI_TTS_ENDPOINT TTS_AVAILABLE_PROVIDERS AZURE_VISION_ENDPOINT AZURE_VISION_KEY
» ios: paths-project-pbxproj: Found multiple project.pbxproj file paths, using "ios/app 2.xcodeproj/project.pbxproj". Ignored paths: ["ios/app.xcodeproj/project.pbxproj"]
Starting project at /Users/mishimayu/Desktop/talknote
Starting Metro Bundler
warning: Bundler cache is empty, rebuilding (this may take a minute)
NODE_ENV="home" is non-conventional and might cause development code to run in production. Use "development", "test", or "production" instead. Continuing with non-conventional mode
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
█ ▄▄▄▄▄ █▀▀▀ ▄▀█ ▄ ▀▄▄ ▄ ██ ▄▄▄▄▄ █
█ █   █ █▄▀█▄ ███ ▄▀█▄█▀  █ █   █ █
█ █▄▄▄█ █ ▄▀▄▄█▄ ▀▄▄▀▀▀▀▄▀█ █▄▄▄█ █
█▄▄▄▄▄▄▄█ █ ▀▄█▄▀ ▀▄▀▄▀▄█ █▄▄▄▄▄▄▄█
█ ▄▀ ▀█▄▄█▀█▄█ ▀██▀▀█ ▄██ ▀ ▄▄█▄▄▀█
█▀▄ █▀█▄▄█▀▀█▄ ▄█▀██ █ ▄█ █ ▄ ▀▄█▄█
█ █▀▀█▀▄▄██▄▄█▄ ▀▄ ▀▀▀ █▄   ▀▀▀██▀█
█████ ▀▄▄ █  █ ▄█▄ ██ ▀█ ▀▀▄▄▀█▄▀██
█  ▄ ▀ ▄██▄▀█ █▄█▄▄▀█▀▄█▀ █▄▀▄▀▀▄▄█
██ ▀▀ █▄█▄▄ ███▄▀█▀▄▀▀▀██ █▄▀██▄▄▄█
█▄▀▀▄▄▄▄  ▄█▄█▄██▄▀▄▄█ █▄▀ ▀ █ ▀█ █
█▄ ▀▀██▄▄█ ██▀▀▀█▀█▀ ▄ ▀█▀██▄█ ██ █
█▄██▄██▄▄▀▄▄█▄▄ ▀▄  ▀▀▄▀▀ ▄▄▄ █▀▄ █
█ ▄▄▄▄▄ █▄▀▄▄ ▀██▄▀ █▀▀██ █▄█ ▄█ ██
█ █   █ █▀  ▀██ █▄███▄▄▄█▄    ▀▀▀▀█
█ █▄▄▄█ █▀█▄▀ ▄█▀█▀ █▀▀▄  ▀▀  ▄█▄▄█
█▄▄▄▄▄▄▄█▄██▄█▄██▄█▄██▄██▄▄█▄▄██▄██

› Metro waiting on
exp+talknote://expo-development-client/?url=http%3A%2F%2F192.168.0.46%3A8081
› Scan the QR code above to open the project in a development build. Learn more:
https://expo.fyi/start

› Using development build
› Press s │ switch to Expo Go

› Press a │ open Android
› Press i │ open iOS simulator
› Press w │ open web

› Press j │ open debugger
› Press r │ reload app
› Press m │ toggle menu
› shift+m │ more tools
› Press o │ open project code in your editor

› Press ? │ show all commands

Logs for your project will appear below. Press Ctrl+C to exit.
Unable to resolve asset "./assets/icon.png" from "icon" in your app.json or app.config.js
Unable to resolve asset "./assets/icon.png" from "icon" in your app.json or app.config.js
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 3.533ms
| Reading changed files: 2.555ms
| Sorting candidates: 0.144ms
| Generate rules: 10.239ms
| Build stylesheet: 0.764ms
| Potential classes:  309
| Active contexts:  1
| JIT TOTAL: 109.371ms
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| 
| 
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.29ms
| Reading changed files: 2.072ms
| Sorting candidates: 0.173ms
| Generate rules: 2.783ms
| Build stylesheet: 0.106ms
| Potential classes:  419
| Active contexts:  1
| JIT TOTAL: 57.137ms
| 
| 
| Finding changed files: 1.493ms
| Reading changed files: 2.179ms
| Sorting candidates: 0.083ms
| Generate rules: 2.777ms
| Build stylesheet: 0.381ms
| Potential classes:  142
| Active contexts:  1
| JIT TOTAL: 104.986ms
| 
| 
| Finding changed files: 1.255ms
| Reading changed files: 1.891ms
| Sorting candidates: 0.074ms
| Generate rules: 2.377ms
| Build stylesheet: 0.378ms
| Potential classes:  139
| Active contexts:  1
| JIT TOTAL: 134.152ms
| 
| 
| Finding changed files: 1.177ms
| Finding changed files: 1.265ms
| Reading changed files: 1.942ms
| Sorting candidates: 0.067ms
| Generate rules: 2.272ms
| Build stylesheet: 0.35ms
| Potential classes:  127
| Active contexts:  1
| JIT TOTAL: 138.243ms
| 
| 
| Reading changed files: 8.887ms
| Sorting candidates: 0.11ms
| Generate rules: 2.596ms
| Build stylesheet: 0.344ms
| Potential classes:  211
| Active contexts:  1
| Finding changed files: 1.291ms
| JIT TOTAL: 124.371ms
| 
| 
| Reading changed files: 6.193ms
| Sorting candidates: 0.245ms
| Generate rules: 3.645ms
| Build stylesheet: 0.398ms
| Potential classes:  449
| Active contexts:  1
| JIT TOTAL: 118.057ms
| 
| 
| 
| 
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.715ms
| 
| 
| Reading changed files: 1.505ms
| Sorting candidates: 0.135ms
| Generate rules: 1.672ms
| Build stylesheet: 0.117ms
| Potential classes:  342
| Active contexts:  1
| JIT TOTAL: 75.115ms
| 
| 
| Finding changed files: 0.254ms
| Reading changed files: 0.998ms
| Sorting candidates: 0.077ms
| Generate rules: 1.073ms
| Build stylesheet: 0.096ms
| Potential classes:  220
| Active contexts:  1
| JIT TOTAL: 72.939ms
| 
| 
| Finding changed files: 0.253ms
| Source path: undefined
| Setting up new context...
| Reading changed files: 1.899ms
| Finding changed files: 0.278ms
| Sorting candidates: 7.083ms
| Generate rules: 9.606ms
| Build stylesheet: 0.1ms
| Potential classes:  435
| Active contexts:  1
| Reading changed files: 3.833ms
| Sorting candidates: 1.978ms
| JIT TOTAL: 107.696ms
| 
| 
| Generate rules: 6.489ms
| Build stylesheet: 0.095ms
| Potential classes:  839
| Active contexts:  1
| JIT TOTAL: 87.549ms
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.307ms
| 
| 
| Reading changed files: 10.768ms
| Sorting candidates: 0.451ms
| Generate rules: 3.376ms
| Build stylesheet: 0.113ms
| Potential classes:  971
| Active contexts:  1
| JIT TOTAL: 98.381ms
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.271ms
| Reading changed files: 0.411ms
| Sorting candidates: 0.029ms
| Generate rules: 0.881ms
| Build stylesheet: 0.081ms
| Potential classes:  90
| Active contexts:  1
| JIT TOTAL: 68.19ms
| 
| 
| 
| 
| 
| 
| Finding changed files: 0.29ms
| Reading changed files: 0.508ms
| Sorting candidates: 0.023ms
| Generate rules: 1.348ms
| Build stylesheet: 0.103ms
| Potential classes:  67
| Active contexts:  1
| JIT TOTAL: 64.212ms
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.257ms
| Reading changed files: 25.228ms
| 
| 
| Sorting candidates: 5.859ms
| Source path: undefined
| Setting up new context...
| Generate rules: 13.389ms
| Build stylesheet: 0.113ms
| Potential classes:  2405
| Active contexts:  1
| JIT TOTAL: 97.436ms
| 
| 
| Finding changed files: 0.204ms
| Reading changed files: 0.602ms
| Sorting candidates: 0.052ms
| Generate rules: 0.792ms
| Build stylesheet: 0.104ms
| Potential classes:  155
| Active contexts:  1
| JIT TOTAL: 114.138ms
| 
| 
| Finding changed files: 0.217ms
| Reading changed files: 5.825ms
| Sorting candidates: 0.501ms
| Generate rules: 7.806ms
| Build stylesheet: 4.318ms
| Potential classes:  1075
| Active contexts:  1
| JIT TOTAL: 81.448ms
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| 
| 
| Source path: undefined
| Setting up new context...
| 
| 
| 
| 
| Finding changed files: 6.23ms
| Reading changed files: 5.524ms
| Sorting candidates: 0.068ms
| Generate rules: 0.802ms
| Build stylesheet: 0.085ms
| Potential classes:  180
| Active contexts:  1
| JIT TOTAL: 94.526ms
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| 
| 
| Finding changed files: 2.65ms
| Reading changed files: 4.394ms
| Sorting candidates: 0.5ms
| Generate rules: 5.639ms
| Build stylesheet: 0.127ms
| Potential classes:  256
| Active contexts:  1
| JIT TOTAL: 114.095ms
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.233ms
| Reading changed files: 2.106ms
| Sorting candidates: 0.225ms
| Generate rules: 1.738ms
| Build stylesheet: 0.073ms
| Potential classes:  486
| Active contexts:  1
| JIT TOTAL: 114.462ms
| 
| 
| Finding changed files: 0.646ms
| Reading changed files: 4.63ms
| Sorting candidates: 0.313ms
| Generate rules: 7.532ms
| Build stylesheet: 0.158ms
| Potential classes:  658
| Active contexts:  1
| JIT TOTAL: 138.333ms
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.248ms
| Reading changed files: 1.699ms
| Sorting candidates: 0.177ms
| Generate rules: 1.262ms
| Build stylesheet: 0.077ms
| Potential classes:  414
| Active contexts:  1
| JIT TOTAL: 101.03ms
| 
| 
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.514ms
| Reading changed files: 0.413ms
| Sorting candidates: 0.034ms
| Generate rules: 0.501ms
| Build stylesheet: 0.093ms
| Potential classes:  104
| Active contexts:  1
| JIT TOTAL: 62.581ms
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.252ms
| Reading changed files: 4.077ms
| Sorting candidates: 0.058ms
| 
| 
| Generate rules: 3.605ms
| Build stylesheet: 0.118ms
| Potential classes:  172
| Active contexts:  1
| JIT TOTAL: 88.828ms
| 
| 
| Finding changed files: 0.3ms
| Reading changed files: 1.474ms
| Sorting candidates: 0.151ms
| Generate rules: 1.322ms
| Build stylesheet: 0.057ms
| Potential classes:  398
| Active contexts:  1
| JIT TOTAL: 79.952ms
| 
| 
| Source path: undefined
| Setting up new context...
| 
| 
| Source path: undefined
| Setting up new context...
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.882ms
| Reading changed files: 0.949ms
| Sorting candidates: 0.032ms
| Generate rules: 0.502ms
| Build stylesheet: 0.071ms
| Potential classes:  86
| Active contexts:  1
| JIT TOTAL: 72.016ms
| 
| 
| Finding changed files: 0.32ms
| Finding changed files: 1.433ms
| Reading changed files: 5.492ms
| Sorting candidates: 0.347ms
| Generate rules: 2.012ms
| Build stylesheet: 0.089ms
| Potential classes:  309
| Active contexts:  1
| JIT TOTAL: 88.013ms
| 
| 
| Reading changed files: 14.47ms
| Sorting candidates: 0.317ms
| Generate rules: 8.146ms
| Build stylesheet: 0.095ms
| Potential classes:  638
| Active contexts:  1
| JIT TOTAL: 116.549ms
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.287ms
| Reading changed files: 0.18ms
| Sorting candidates: 0.01ms
| Generate rules: 0.485ms
| Build stylesheet: 0.045ms
| Potential classes:  29
| Active contexts:  1
| JIT TOTAL: 55.457ms
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.337ms
| Reading changed files: 1.024ms
| Sorting candidates: 0.141ms
| Generate rules: 0.943ms
| Build stylesheet: 0.104ms
| Potential classes:  325
| Active contexts:  1
| JIT TOTAL: 79.187ms
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.383ms
| Reading changed files: 0.865ms
| Sorting candidates: 0.039ms
| Generate rules: 1.131ms
| Build stylesheet: 0.114ms
| Potential classes:  126
| Active contexts:  1
| JIT TOTAL: 164.847ms
| 
| 
| Finding changed files: 1.126ms
| Reading changed files: 2.126ms
| Sorting candidates: 0.129ms
| Generate rules: 1.836ms
| Build stylesheet: 0.115ms
| Potential classes:  189
| Active contexts:  1
| JIT TOTAL: 187.519ms
| 
| 
| 
| 
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| 
| 
| Finding changed files: 0.244ms
| Reading changed files: 3.216ms
| Sorting candidates: 0.312ms
| Generate rules: 2.011ms
| Build stylesheet: 0.351ms
| Potential classes:  646
| Active contexts:  1
| JIT TOTAL: 64.609ms
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.37ms
| Reading changed files: 0.762ms
| Sorting candidates: 0.081ms
| Finding changed files: 0.776ms
| Generate rules: 2.019ms
| Build stylesheet: 0.141ms
| Potential classes:  219
| Active contexts:  1
| JIT TOTAL: 85.34ms
| 
| 
| Reading changed files: 5.482ms
| Sorting candidates: 0.275ms
| Generate rules: 4.717ms
| Build stylesheet: 0.095ms
| Potential classes:  601
| Active contexts:  1
| JIT TOTAL: 94.637ms
| 
| 
| Finding changed files: 2.168ms
| Reading changed files: 1.293ms
| Sorting candidates: 0.128ms
| Generate rules: 1.077ms
| Build stylesheet: 0.076ms
| Potential classes:  296
| Active contexts:  1
| 
| 
| JIT TOTAL: 76.103ms
| 
| 
| Source path: undefined
| Setting up new context...
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.421ms
| Reading changed files: 1.624ms
| Sorting candidates: 0.125ms
| Generate rules: 1.756ms
| Build stylesheet: 0.222ms
| Potential classes:  127
| Active contexts:  1
| JIT TOTAL: 98.284ms
| 
| 
| Finding changed files: 0.235ms
| Reading changed files: 0.826ms
| Sorting candidates: 0.129ms
| Generate rules: 1.299ms
| Build stylesheet: 0.251ms
| Potential classes:  176
| Active contexts:  1
| JIT TOTAL: 80.737ms
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 1.063ms
| Reading changed files: 2.849ms
| Sorting candidates: 0.401ms
| Generate rules: 2.687ms
| Build stylesheet: 0.084ms
| Potential classes:  399
| Active contexts:  1
| JIT TOTAL: 81.698ms
| 
| 
iOS Bundled 10959ms node_modules/expo/AppEntry.js (1690 modules)
 LOG  🔥 Firebase initialized successfully
 LOG  ✅ Firebase認証永続化: AsyncStorageに明示設定完了
 LOG  📦 @react-native-async-storage/async-storage: 利用可能
 LOG  🔧 Debug mode enabled
 LOG  📱 Project ID: talknote-446306
 WARN  Require cycle: app/services/auth.ts -> app/services/database.ts -> app/services/api.ts -> app/services/auth.ts

Require cycles are allowed, but can result in uninitialized values. Consider refactoring to remove the need for a cycle.
 LOG  [API] 環境変数からベースURL取得: http://192.168.0.46:8000
 LOG  [WS] 環境変数からWebSocketURL取得: ws://192.168.0.46:8002/api/v1/stt/stream
 LOG  [API] Base URL: http://192.168.0.46:8000/api/v1
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 WARN  [expo-av]: Expo AV has been deprecated and will be removed in SDK 54. Use the `expo-audio` and `expo-video` packages to replace the required functionality.
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🧹 クリーンアップ完了: auth-storage
 LOG  データベース初期化をスキップしています
 LOG  🔍 App.tsx 認証状態: {"authLoading": true, "initialRoute": "WelcomeLogin", "user": "未認証"}
 LOG  🔐 Firebase認証状態変更: 認証済み(WvyMDrjT3BSIKHKsryvKWg3smGq2)
 LOG  🔍 App.tsx 認証状態: {"authLoading": false, "initialRoute": "Dashboard", "user": "認証済み(WvyMDrjT...)"}
 LOG  🔧 AutoSaveProvider: 初期化完了 {"currentNote": "none", "debugMode": true, "globalEnabled": true}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  [Dashboard] loadData 開始
 LOG  [Dashboard] データベース初期化中...
 LOG  [Dashboard] refreshing状態変化: false
 LOG  Recordings table created successfully
 LOG  Imports table created successfully
 LOG  Manual notes table created successfully
 LOG  Upload queue table created successfully
 LOG  Photo scans table created successfully
 LOG  Bookmarks table created successfully
 LOG  Database initialized successfully
 LOG  [Dashboard] データベース初期化完了
 LOG  [Dashboard] 録音データ取得中...
 LOG  [getAllNotes] ユーザー別ノート取得: 0
 LOG  [Dashboard] 録音データ取得完了: 0 件
 LOG  [Dashboard] loadData 完了
 LOG  [Dashboard] isLoading = false に設定
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  [getAllNotes] ユーザー別ノート取得: 0
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": null, "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚀 新規ノート作成開始
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": null, "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  📏 テキストレイアウト更新: {"height": 521, "width": 327}
 LOG  [getAllNotes] ユーザー別ノート取得: 0
 LOG  📝 タイトル重複チェック完了: {"baseTitle": "ノート2025-06-17", "existingCount": 0, "finalTitle": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": null, "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording saved successfully
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": null, "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": null, "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ✅ 新規ノート作成完了 - noteId: b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61
 LOG  🔄 ダッシュボードで表示されるノートID: b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  📏 テキストレイアウト更新: {"height": 233.3333282470703, "width": 327}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "た"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "た"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "ち"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "ち"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 1, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 1, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.28ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 1, "noteType": "manual", "pathsCount": 0, "saveTime": 14.281791001558304}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 1, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.85ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 1, "noteType": "manual", "pathsCount": 0, "saveTime": 13.8507080078125}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "つ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "つ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "て"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "て"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 1, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 1, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.22ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 1, "noteType": "manual", "pathsCount": 0, "saveTime": 21.22308298945427}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 1, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.89ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 1, "noteType": "manual", "pathsCount": 0, "saveTime": 16.886916011571884}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "てさ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "てさ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "てし"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "てし"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 2, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 2, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "29.20ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 2, "noteType": "manual", "pathsCount": 0, "saveTime": 29.198834002017975}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 2, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.92ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 2, "noteType": "manual", "pathsCount": 0, "saveTime": 15.916292011737823}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "てす"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "てす"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テスト"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テスト"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テスト"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テスト"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 2, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 3, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.07ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 2, "noteType": "manual", "pathsCount": 0, "saveTime": 19.074582993984222}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 3, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.55ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 3, "noteType": "manual", "pathsCount": 0, "saveTime": 15.547207981348038}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テストな"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テストな"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テストに"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テストに"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 4, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 4, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.19ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 4, "noteType": "manual", "pathsCount": 0, "saveTime": 20.188749998807907}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 4, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.69ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 4, "noteType": "manual", "pathsCount": 0, "saveTime": 16.686791002750397}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テストぬ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テストぬ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テストね"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テストね"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 4, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 4, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.80ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 4, "noteType": "manual", "pathsCount": 0, "saveTime": 18.795542001724243}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 4, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.00ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 4, "noteType": "manual", "pathsCount": 0, "saveTime": 15.002374976873398}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テストの"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テストの"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テストのわ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テストのわ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 4, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 5, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "27.04ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 4, "noteType": "manual", "pathsCount": 0, "saveTime": 27.042082995176315}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 5, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.82ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 5, "noteType": "manual", "pathsCount": 0, "saveTime": 15.82058298587799}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テストのを"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テストのを"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テストのん"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テストのん"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 5, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 5, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.38ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 5, "noteType": "manual", "pathsCount": 0, "saveTime": 21.379749983549118}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 5, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "24.85ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 5, "noteType": "manual", "pathsCount": 0, "saveTime": 24.85375002026558}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テストのー"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テストのー"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テストノート"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テストノート"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "テストノート"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "テストノート"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 5, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.35ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 5, "noteType": "manual", "pathsCount": 0, "saveTime": 19.34749999642372}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.65ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 15.647915989160538}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  📏 テキストレイアウト更新: {"height": 213.3333282470703, "width": 327}
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📏 テキストレイアウト更新: {"height": 199.99998474121094, "width": 327}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2025-06-1"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2025-06-1"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-1"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.32ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 13.323082983493805}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "9.99ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 9.987124979496002}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2025-06-"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2025-06-"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2025-06"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2025-06"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06-"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-06"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.12ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 19.118916988372803}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.88ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 15.883708000183105}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2025-0"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2025-0"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2025-"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2025-"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-0"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025-"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.97ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 20.967332988977432}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.75ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 16.75287500023842}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2025"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2025"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート202"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート202"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2025"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート202"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.62ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 20.616542011499405}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.62ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 16.61966699361801}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート20"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート20"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート20"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート2"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "30.02ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 30.01962500810623}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.29ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 17.29187500476837}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートな"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートな"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノート"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートな"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "27.50ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 27.495124995708466}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.70ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 17.701958000659943}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートに"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートに"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートぬ"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートぬ"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートに"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートぬ"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "28.15ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 28.148499995470047}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.83ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 16.832874983549118}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートね"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートね"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートの"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートの"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートね"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートの"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "28.41ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 28.406791985034943}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.18ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 17.178874999284744}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートの"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートの"}, "toolbarFunction": "title_edit"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートの"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートの"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのた"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのた"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートの"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのた"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.38ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 20.38308298587799}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.19ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 16.18875002861023}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのち"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのち"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのつ"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのつ"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのち"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのつ"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "23.72ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 23.72350001335144}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.26ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 19.264124989509583}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのて"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのて"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのてさ"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのてさ"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのて"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのてさ"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.56ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 21.555583000183105}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "23.43ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 23.43495798110962}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのてし"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのてし"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのてす"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのてす"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのてし"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのてす"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.83ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 21.834958016872406}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.60ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 18.595084011554718}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのテスト"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのテスト"}, "toolbarFunction": "title_edit"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのテスト"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのテスト"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのテストa"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのテストa"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのテスト"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのテストa"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.81ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 14.814166009426117}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.00ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 12.996333003044128}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのテスト"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのテスト"}, "toolbarFunction": "title_edit"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのテスト"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのテスト"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 6, "pathsCount": 0, "title": "ノートのテスト"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのテスト"}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのテスト"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのテスト"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "41.00ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 860, "saveTime": 40.997583001852036}, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "savedAt": "2025-06-17T08:26:21.350Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 40.997583001852036}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "35.52ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 35.51774999499321}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.12ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 19.119958996772766}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのテストa"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのテストa"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのテストAPI"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのテストAPI"}, "toolbarFunction": "title_edit"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのテストAPI"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのテストAPI"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのテストa"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのテストAPI"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.63ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 22.629290997982025}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.61ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 17.61233299970627}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのテストAP"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのテストAP"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノートのテストA"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノートのテストA"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのテストAP"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのテストA"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.79ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 20.79254201054573}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.84ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 16.84154099225998}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  📏 テキストレイアウト更新: {"height": 471.33331298828125, "width": 327}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📏 テキストレイアウト更新: {"height": 491.33331298828125, "width": 327}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🔙 画面遷移検出（戻るボタン or スワイプ）
 LOG  🔄 画面遷移時の自動保存開始...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 6, "hasUnsavedChanges": true, "isSaving": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのテストA"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "noteType": "manual", "title": "ノートのテストA"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "7.86ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 7.864666998386383}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "29.99ms", "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 6, "noteType": "manual", "pathsCount": 0, "saveTime": 29.991791993379593}
 LOG  ✅ 画面遷移時の自動保存完了
 LOG  [getAllNotes] ユーザー別ノート取得: 1
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 1, "recordingsSample": [{"id": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "title": "ノートのテストA", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "recordingState": "idle", "routeParamsNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "recordingState": "idle", "routeParamsNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  📏 テキストレイアウト更新: {"height": 521, "width": 327}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "recordingState": "idle", "routeParamsNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription", "user_id"], "title": "ノートのテストA"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "recordingState": "idle", "routeParamsNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61 ページ1
 LOG  📌 しおりなし: b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61 -> デフォルトページ1
 LOG  📌 しおり状態ロード: b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61 なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "recordingState": "idle", "routeParamsNoteId": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🔙 画面遷移検出（戻るボタン or スワイプ）
 LOG  📝 未保存の変更なし - 保存スキップ
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  [getAllNotes] ユーザー別ノート取得: 1
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 1, "recordingsSample": [{"id": "b113ecc1-ef65-4c1c-b5e8-6d02fdc12e61", "title": "ノートのテストA", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🚪 ログアウト開始
 LOG  🔐 Firebase認証状態変更: 未認証
 LOG  ✅ Firebase サインアウト完了
 LOG  🔍 App.tsx 認証状態: {"authLoading": false, "initialRoute": "WelcomeLogin", "user": "未認証"}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "None", "isAuthenticated": false, "persistenceMode": "Firebase AsyncStorage Only", "userId": "None"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "未認証"}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "None", "isAuthenticated": false, "persistenceMode": "Firebase AsyncStorage Only", "userId": "None"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "未認証"}
 LOG  ✅ ローカルストレージクリア完了
 LOG  🍎 Apple認証可用性: true
 LOG  🍎 Apple認証可用性: true
 LOG  [resetLocalDatabase] ローカルDBをクリアしました
 LOG  🚪 Signed out successfully
 LOG  ✅ ログアウト完了
 LOG  🍎 Apple認証可用性: true
 LOG  🚀 Google認証開始
 LOG  🚀 Google認証開始（react-native-google-signin）
 LOG  ✅ Google Play Services利用可能
 LOG  [DEBUG] Google signIn raw result: {"data": {"idToken": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjFiYjc3NGJkODcyOWVhMzhlOWMyZmUwYzY0ZDJjYTk0OGJmNjZmMGYiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiIzMDk4ODI2MTQ2NTgtZ3FsMnQxa29kYzc0YnQ4MHFlYXFicTg5Z3NndWVobTEuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiIzMDk4ODI2MTQ2NTgtM28yaGRsdG9oaDBnZTVsdGhyMXA5djJ0ZWpwbTlrcWQuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDI4Mzk1OTE1NDg3OTg2NDE1OTIiLCJlbWFpbCI6InNoYW56aG9uZ2xpYW5ncGluZzg0MUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiYXRfaGFzaCI6ImY4b1B1TWR1QW1qZlVBUmJobU91eHciLCJub25jZSI6Im4xODA4X1pycERnUGFud3RvRTEzYVplR2tnQ0UwVmJmZTgtMXAzT0RXa3ciLCJuYW1lIjoi5bGx5Lit5ra85bmzIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lLOVNzRVoyUHdueVBXTEtTNEg5Ri1pNjFvbEh0am5qSVY0QWd6SVNGM0dXb20tZz1zOTYtYyIsImdpdmVuX25hbWUiOiLmtrzlubMiLCJmYW1pbHlfbmFtZSI6IuWxseS4rSIsImlhdCI6MTc1MDE0ODgwNCwiZXhwIjoxNzUwMTUyNDA0fQ.UJfKUCODp0V4_b6a2R14alh69y10kH3xJc41PdA3WEPNWdVmsRuIY8yqmdq4AT6b4poDvApHfKSy3umynb82Q7ipoQOtijkfSIwf88dwVsJDhjgN0Bbi6jKVUx1eWaBw94QGBHzqCom1SgTC4oUsP-B5VLgxyNn15-Xe7tYu03shBwo9MW8ToG7fBcAtzE27MxOitrrOeGCpyWFwSaWUT2NIamEImnsJmuQtNHtJOPp9DtpS4rnrUd3ysHaQMGQWiSW6wytKMAnuWsS8eysXGqXm6Bz_WrPj9hpr-Zxf1I-JhXOyLs7UdKt_dB0tSnUmy2Pw_-RxOmqMlwS31sGNBg", "scopes": ["https://www.googleapis.com/auth/userinfo.email", "openid", "https://www.googleapis.com/auth/userinfo.profile"], "serverAuthCode": "4/0AUJR-x4XGURlekwXivPHMQOPQ41b56HWuSocbVI5o82NdF3kBnKz9raMOjctA7m1_aiNUQ", "user": {"email": "shanzhongliangping841@gmail.com", "familyName": "山中", "givenName": "涼平", "id": "102839591548798641592", "name": "山中涼平", "photo": "https://lh3.googleusercontent.com/a/ACg8ocIK9SsEZ2PwnyPWLKS4H9F-i61olHtjnjIV4AgzISF3GWom-g=s120"}}, "type": "success"}
 LOG  ✅ Google認証成功: {"email": "shanzhongliangping841@gmail.com", "hasIdToken": true, "name": "山中涼平"}
 LOG  🔐 Firebase認証状態変更: 認証済み(WvyMDrjT3BSIKHKsryvKWg3smGq2)
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  [Dashboard] loadData 開始
 LOG  [Dashboard] データベース初期化中...
 LOG  [Dashboard] refreshing状態変化: false
 LOG  ✅ 認証済みユーザー、ダッシュボードに遷移
 LOG  🔍 App.tsx 認証状態: {"authLoading": false, "initialRoute": "Dashboard", "user": "認証済み(WvyMDrjT...)"}
 LOG  🎉 Firebase認証成功: {"displayName": "山中涼平", "email": "shanzhongliangping841@gmail.com", "uid": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  Recordings table created successfully
 LOG  Imports table created successfully
 LOG  Manual notes table created successfully
 LOG  Upload queue table created successfully
 LOG  Photo scans table created successfully
 LOG  Bookmarks table created successfully
 LOG  Database initialized successfully
 LOG  [Dashboard] データベース初期化完了
 LOG  [Dashboard] 録音データ取得中...
 LOG  [getAllNotes] ユーザー別ノート取得: 0
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  ✅ Google認証成功: shanzhongliangping841@gmail.com
 LOG  [getAllNotes] ユーザー別ノート取得: 0
 LOG  [Dashboard] 録音データ取得完了: 0 件
 LOG  [Dashboard] loadData 完了
 LOG  [Dashboard] isLoading = false に設定
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": null, "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚀 新規ノート作成開始
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": null, "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  📏 テキストレイアウト更新: {"height": 521, "width": 327}
 LOG  [getAllNotes] ユーザー別ノート取得: 0
 LOG  📝 タイトル重複チェック完了: {"baseTitle": "ノート2025-06-17", "existingCount": 0, "finalTitle": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": null, "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording saved successfully
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": null, "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": null, "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ✅ 新規ノート作成完了 - noteId: 0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54
 LOG  🔄 ダッシュボードで表示されるノートID: 0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  📏 テキストレイアウト更新: {"height": 233.3333282470703, "width": 327}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "た"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "た"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "ち"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "ち"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 1, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 1, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.06ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 1, "noteType": "manual", "pathsCount": 0, "saveTime": 21.063291996717453}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 1, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.28ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 1, "noteType": "manual", "pathsCount": 0, "saveTime": 21.279249995946884}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": ""}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": ""}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": ""}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": ""}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  📏 テキストレイアウト更新: {"height": 213.3333282470703, "width": 327}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.31ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 19.314583003520966}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.02ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 16.019291013479233}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📏 テキストレイアウト更新: {"height": 199.99998474121094, "width": 327}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2025-06-1"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2025-06-1"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート2025-06-17"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート2025-06-1"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.43ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 14.429834008216858}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "10.62ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 10.619791984558105}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2025-06-"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2025-06-"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2025-06"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2025-06"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート2025-06-"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート2025-06"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.75ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 17.75129199028015}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.93ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 12.92587497830391}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2025-0"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2025-0"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2025-"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2025-"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート2025-0"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート2025-"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.16ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 19.162666976451874}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.23ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 16.231375008821487}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2025"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2025"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート202"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート202"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート2025"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート202"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.39ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 18.38654199242592}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "10.87ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 10.871791005134583}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート20"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート20"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート2"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート2"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート20"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート2"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "24.37ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 24.371540993452072}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.02ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 15.018709003925323}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノート"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノート"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノー"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノー"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノート"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノー"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "30.21ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 30.205042004585266}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.70ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 16.697082996368408}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノーた"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノーた"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノーち"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノーち"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノーた"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノーち"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.43ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 20.430500000715256}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.19ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 17.19174998998642}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノーつ"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノーつ"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノー"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノー"}, "toolbarFunction": "title_edit"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノー"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノー"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノーつ"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノー"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.53ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 18.529124975204468}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.44ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 15.443417012691498}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ノ"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ノ"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": ""}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": ""}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ノ"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": ""}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "26.47ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 26.472874999046326}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.49ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 13.485207974910736}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "た"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "た"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "ち"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "ち"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "た"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "ち"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "28.60ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 28.595625013113022}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.79ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 16.79312500357628}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "つ"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "つ"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "て"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "て"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "つ"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "て"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "25.06ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 25.055417001247406}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.63ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 16.627749979496002}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "てさ"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "てさ"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "てし"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "てし"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "てさ"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "てし"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "29.07ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 29.072999984025955}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.67ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 16.670333981513977}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "てす"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "てす"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "テスト"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "テスト"}, "toolbarFunction": "title_edit"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "テスト"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "テスト"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "てす"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "テスト"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "27.24ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 27.244167000055313}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.26ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 17.2574580013752}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "テストた"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "テストた"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "テストだ"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "テストだ"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "テストた"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "テストだ"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "28.37ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 28.37454202771187}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.05ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 22.05274999141693}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "テストだお"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "テストだお"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "テストだお"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "テストだお"}, "toolbarFunction": "title_edit"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newTitle": "テストだお"}, "hasUnsavedChanges": true, "toolbarFunction": "title_edit"}
 LOG  🚀 統一自動保存Hook実行: title_edit
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newTitle": "テストだお"}, "toolbarFunction": "title_edit"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 即座保存実行 {"toolbarFunction": "title_edit"}
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  📏 テキストレイアウト更新: {"height": 471.33331298828125, "width": 327}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "テストだお"}
 LOG  📏 テキストレイアウト更新: {"height": 491.33331298828125, "width": 327}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "route_params": {"isNewNote": true, "noteId": "new"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteType": "manual", "title": "テストだお"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "26.04ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 26.044042021036148}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 0, "hasUnsavedChanges": true, "isSaving": true, "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.67ms", "noteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 0, "noteType": "manual", "pathsCount": 0, "saveTime": 16.66845801472664}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "includesImport": false, "includesPhotoScan": false, "newNoteId": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "noteId": "new", "recordingState": "idle", "routeParamsNoteId": "new", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🔙 画面遷移検出（戻るボタン or スワイプ）
 LOG  📝 未保存の変更なし - 保存スキップ
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  [getAllNotes] ユーザー別ノート取得: 1
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 1, "recordingsSample": [{"id": "0bfcf6cf-7c99-4b7e-8361-ff5cfae86b54", "title": "テストだお", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🚪 ログアウト開始
 LOG  🔐 Firebase認証状態変更: 未認証
 LOG  ✅ Firebase サインアウト完了
 LOG  🔍 App.tsx 認証状態: {"authLoading": false, "initialRoute": "WelcomeLogin", "user": "未認証"}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "None", "isAuthenticated": false, "persistenceMode": "Firebase AsyncStorage Only", "userId": "None"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "未認証"}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "None", "isAuthenticated": false, "persistenceMode": "Firebase AsyncStorage Only", "userId": "None"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "未認証"}
 LOG  ✅ ローカルストレージクリア完了
 LOG  🍎 Apple認証可用性: true
 LOG  🍎 Apple認証可用性: true
 LOG  [resetLocalDatabase] ローカルDBをクリアしました
 LOG  🚪 Signed out successfully
 LOG  ✅ ログアウト完了
 LOG  🍎 Apple認証可用性: true
 LOG  🍎 Apple認証開始
 LOG  🍎 Apple認証開始
 LOG  ✅ Apple認証利用可能
 LOG  🔐 Nonce生成完了
 LOG  ✅ Apple認証成功: {"email": null, "fullName": {"familyName": null, "givenName": null, "middleName": null, "namePrefix": null, "nameSuffix": null, "nickname": null}, "hasIdentityToken": true, "user": "001474.f3135a05f75347c7b24b6ae897e7cd9b.0449"}
 LOG  🔐 Firebase認証状態変更: 認証済み(bL2bu48kPQbzMeh9VRCdtDgEPoe2)
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  [Dashboard] loadData 開始
 LOG  [Dashboard] データベース初期化中...
 LOG  [Dashboard] refreshing状態変化: false
 LOG  ✅ 認証済みユーザー、ダッシュボードに遷移
 LOG  🔍 App.tsx 認証状態: {"authLoading": false, "initialRoute": "Dashboard", "user": "認証済み(bL2bu48k...)"}
 LOG  🎉 Firebase Apple認証成功: {"displayName": null, "email": "4t22d7qct6@privaterelay.appleid.com", "uid": "bL2bu48kPQbzMeh9VRCdtDgEPoe2"}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "4t22d7qct6@privaterelay.appleid.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "bL2bu48kPQbzMeh9VRCdtDgEPoe2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "4t22d7qct6@privaterelay.appleid.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "bL2bu48kPQbzMeh9VRCdtDgEPoe2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  Recordings table created successfully
 LOG  Imports table created successfully
 LOG  Manual notes table created successfully
 LOG  Upload queue table created successfully
 LOG  Photo scans table created successfully
 LOG  Bookmarks table created successfully
 LOG  Database initialized successfully
 LOG  [Dashboard] データベース初期化完了
 LOG  [Dashboard] 録音データ取得中...
 LOG  ✅ Apple認証成功: 4t22d7qct6@privaterelay.appleid.com
 LOG  [getAllNotes] ユーザー別ノート取得: 0
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  [getAllNotes] ユーザー別ノート取得: 0
 LOG  [Dashboard] 録音データ取得完了: 0 件
 LOG  [Dashboard] loadData 完了
 LOG  [Dashboard] isLoading = false に設定
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "4t22d7qct6@privaterelay.appleid.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "bL2bu48kPQbzMeh9VRCdtDgEPoe2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  [getAllNotes] ユーザー別ノート取得: 0
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "4t22d7qct6@privaterelay.appleid.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "bL2bu48kPQbzMeh9VRCdtDgEPoe2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  [getAllNotes] ユーザー別ノート取得: 0
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "4t22d7qct6@privaterelay.appleid.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "bL2bu48kPQbzMeh9VRCdtDgEPoe2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🚪 ログアウト開始
 LOG  🔐 Firebase認証状態変更: 未認証
 LOG  ✅ Firebase サインアウト完了
 LOG  🔍 App.tsx 認証状態: {"authLoading": false, "initialRoute": "WelcomeLogin", "user": "未認証"}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "None", "isAuthenticated": false, "persistenceMode": "Firebase AsyncStorage Only", "userId": "None"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "未認証"}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "None", "isAuthenticated": false, "persistenceMode": "Firebase AsyncStorage Only", "userId": "None"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "未認証"}
 LOG  ✅ ローカルストレージクリア完了
 LOG  🍎 Apple認証可用性: true
 LOG  🍎 Apple認証可用性: true
 LOG  [resetLocalDatabase] ローカルDBをクリアしました
 LOG  🚪 Signed out successfully
 LOG  ✅ ログアウト完了
 LOG  🍎 Apple認証可用性: true
 LOG  🚀 Google認証開始
 LOG  🚀 Google認証開始（react-native-google-signin）
 LOG  ✅ Google Play Services利用可能
 LOG  [DEBUG] Google signIn raw result: {"data": {"idToken": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjFiYjc3NGJkODcyOWVhMzhlOWMyZmUwYzY0ZDJjYTk0OGJmNjZmMGYiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiIzMDk4ODI2MTQ2NTgtZ3FsMnQxa29kYzc0YnQ4MHFlYXFicTg5Z3NndWVobTEuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiIzMDk4ODI2MTQ2NTgtM28yaGRsdG9oaDBnZTVsdGhyMXA5djJ0ZWpwbTlrcWQuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMDI4Mzk1OTE1NDg3OTg2NDE1OTIiLCJlbWFpbCI6InNoYW56aG9uZ2xpYW5ncGluZzg0MUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiYXRfaGFzaCI6ImI1cDNldWhmS0VEMUFaZUw0aFFVS1EiLCJub25jZSI6IlZiWk5iS3FvcVdncXRXRzZvWHYxbmhzV3N1UUZOZUNGdEJuOU1JRmJtbUUiLCJuYW1lIjoi5bGx5Lit5ra85bmzIiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hL0FDZzhvY0lLOVNzRVoyUHdueVBXTEtTNEg5Ri1pNjFvbEh0am5qSVY0QWd6SVNGM0dXb20tZz1zOTYtYyIsImdpdmVuX25hbWUiOiLmtrzlubMiLCJmYW1pbHlfbmFtZSI6IuWxseS4rSIsImlhdCI6MTc1MDE0ODg1MiwiZXhwIjoxNzUwMTUyNDUyfQ.WzRReAvov8VVghPpAiZKCwAaA1sbvGVHzpCazgBRo2DS9WGOKNMguXKBm5u8sWPc8RAaq2KlitMXjKR35cvoxImEyIeFxUw1xEVoDZCB1M5PMcJ49TjtBkpgHC7XrbHQB9r_oy4yYYu3cUaxgMLANFVPJOzzqUDbtXQojJ0_3q-Q0RMSDoZoq9_GPrRJV7kXBp69F7Zf4fQg-RvSTR340SsXWlaW4uZc6DsJDSyYQJBxW21oX_b8FbCKYBbQr6detj_BaZ7r40GazlHohRYKaQnH4dv-WYfZwSiH1fr2-oT3gdueEELTgTDYPl9RlM_9zAHONoe9Yno8fJsbtknw5w", "scopes": ["https://www.googleapis.com/auth/userinfo.profile", "https://www.googleapis.com/auth/userinfo.email", "openid"], "serverAuthCode": "4/0AUJR-x5kugnJkPikolZfPExVovO-gaUtNQNF52rE9f0CmU5WNP_vdWeio6YbLvN09vowOw", "user": {"email": "shanzhongliangping841@gmail.com", "familyName": "山中", "givenName": "涼平", "id": "102839591548798641592", "name": "山中涼平", "photo": "https://lh3.googleusercontent.com/a/ACg8ocIK9SsEZ2PwnyPWLKS4H9F-i61olHtjnjIV4AgzISF3GWom-g=s120"}}, "type": "success"}
 LOG  ✅ Google認証成功: {"email": "shanzhongliangping841@gmail.com", "hasIdToken": true, "name": "山中涼平"}
 LOG  🔐 Firebase認証状態変更: 認証済み(WvyMDrjT3BSIKHKsryvKWg3smGq2)
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  [Dashboard] loadData 開始
 LOG  [Dashboard] データベース初期化中...
 LOG  [Dashboard] refreshing状態変化: false
 LOG  ✅ 認証済みユーザー、ダッシュボードに遷移
 LOG  🔍 App.tsx 認証状態: {"authLoading": false, "initialRoute": "Dashboard", "user": "認証済み(WvyMDrjT...)"}
 LOG  🎉 Firebase認証成功: {"displayName": "山中涼平", "email": "shanzhongliangping841@gmail.com", "uid": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  Recordings table created successfully
 LOG  Imports table created successfully
 LOG  Manual notes table created successfully
 LOG  Upload queue table created successfully
 LOG  Photo scans table created successfully
 LOG  Bookmarks table created successfully
 LOG  Database initialized successfully
 LOG  [Dashboard] データベース初期化完了
 LOG  [Dashboard] 録音データ取得中...
 LOG  [getAllNotes] ユーザー別ノート取得: 0
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  ✅ Google認証成功: shanzhongliangping841@gmail.com
 LOG  [getAllNotes] ユーザー別ノート取得: 0
 LOG  [Dashboard] 録音データ取得完了: 0 件
 LOG  [Dashboard] loadData 完了
 LOG  [Dashboard] isLoading = false に設定
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}