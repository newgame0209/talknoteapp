Last login: Sat Jun 14 13:00:32 on ttys066
mishimayu@MacBookAir ~ % cd /Users/mishimayu/Desktop/talknote   
mishimayu@MacBookAir talknote %    NODE_ENV=home npx expo start --clear
NODE_ENV="home" is non-conventional and might cause development code to run in production. Use "development", "test", or "production" instead. Continuing with non-conventional mode
env: load .env.home .env
env: export EXPO_PUBLIC_API_BASE_URL EXPO_PUBLIC_STT_BASE_URL EXPO_PUBLIC_ENVIRONMENT OPENAI_API_KEY OPENAI_MODEL ANTHROPIC_API_KEY ANTHROPIC_MODEL FIREBASE_PROJECT_ID GOOGLE_APPLICATION_CREDENTIALS GCP_PROJECT_ID GCS_BUCKET GCS_UPLOAD_FOLDER PUBSUB_ENABLED PUBSUB_MEDIA_TOPIC STT_PROVIDER DATABASE_URL FEATURE_OFFLINE_MODE FEATURE_ASYNC_PROCESSING FEATURE_OCR FEATURE_AI_CHAT FEATURE_RESEARCH TEST_USER_EMAIL TEST_USER_PASSWORD BYPASS_AUTH YAHOO_API_CLIENT_ID FEATURE_PUBSUB DEBUG TTS_DEFAULT_PROVIDER MINIMAX_TTS_API_KEY MINIMAX_TTS_ENDPOINT GEMINI_TTS_API_KEY GEMINI_TTS_ENDPOINT TTS_AVAILABLE_PROVIDERS
» ios: paths-project-pbxproj: Found multiple project.pbxproj file paths, using "ios/app 2.xcodeproj/project.pbxproj". Ignored paths: ["ios/app.xcodeproj/project.pbxproj"]
Starting project at /Users/mishimayu/Desktop/talknote
Starting Metro Bundler
warning: Bundler cache is empty, rebuilding (this may take a minute)
NODE_ENV="home" is non-conventional and might cause development code to run in production. Use "development", "test", or "production" instead. Continuing with non-conventional mode
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
█ ▄▄▄▄▄ █▀▀▀ ▄▀█ ▄ ▀▄▄ ▄ ██ ▄▄▄▄▄ █
█ █   █ █▄▀█▄ ███ ▄▀█▄█▀  █ █   █ █
█ █▄▄▄█ █ ▄▀▄▄█▄ ▀▄▄▀▀▀▀▄▀█ █▄▄▄█ █
█▄▄▄▄▄▄▄█ █ ▀▄█▄▀ ▀▄▀▄▀▄█ █▄▄▄▄▄▄▄█
█ ▄▀ ▀█▄▄█▀█▄█ ▀██▀▀█ ▄██ ▀ ▄▄█▄▄▀█
█▀▄ █▀█▄▄█▀▀█▄ ▄█▀██ █ ▄█ █ ▄ ▀▄█▄█
█ █▀▀█▀▄▄██▄▄█▄ ▀▄ ▀▀▀ █▄   ▀▀▀██▀█
█████ ▀▄▄ █  █ ▄█▄ ██ ▀█ ▀▀▄▄▀█▄▀██
█  ▄ ▀ ▄██▄▀█ █▄█▄▄▀█▀▄█▀ █▄▀▄▀▀▄▄█
██ ▀▀ █▄█▄▄ ███▄▀█▀▄▀▀▀██ █▄▀██▄▄▄█
█▄▀▀▄▄▄▄  ▄█▄█▄██▄▀▄▄█ █▄▀ ▀ █ ▀█ █
█▄ ▀▀██▄▄█ ██▀▀▀█▀█▀ ▄ ▀█▀██▄█ ██ █
█▄██▄██▄▄▀▄▄█▄▄ ▀▄  ▀▀▄▀▀ ▄▄▄ █▀▄ █
█ ▄▄▄▄▄ █▄▀▄▄ ▀██▄▀ █▀▀██ █▄█ ▄█ ██
█ █   █ █▀  ▀██ █▄███▄▄▄█▄    ▀▀▀▀█
█ █▄▄▄█ █▀█▄▀ ▄█▀█▀ █▀▀▄  ▀▀  ▄█▄▄█
█▄▄▄▄▄▄▄█▄██▄█▄██▄█▄██▄██▄▄█▄▄██▄██

› Metro waiting on
exp+talknote://expo-development-client/?url=http%3A%2F%2F192.168.0.46%3A8081
› Scan the QR code above to open the project in a development build. Learn more:
https://expo.fyi/start

› Using development build
› Press s │ switch to Expo Go

› Press a │ open Android
› Press i │ open iOS simulator
› Press w │ open web

› Press j │ open debugger
› Press r │ reload app
› Press m │ toggle menu
› shift+m │ more tools
› Press o │ open project code in your editor

› Press ? │ show all commands

Logs for your project will appear below. Press Ctrl+C to exit.
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 2.019ms
| Reading changed files: 5.086ms
| Sorting candidates: 0.168ms
| Generate rules: 11.493ms
| Build stylesheet: 0.531ms
| Potential classes:  309
| Active contexts:  1
| JIT TOTAL: 117.3ms
| 
| 
| 
| 
| 
| 
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.346ms
| Reading changed files: 2.053ms
| Sorting candidates: 0.174ms
| Generate rules: 2.72ms
| Build stylesheet: 0.089ms
| Potential classes:  419
| Active contexts:  1
| JIT TOTAL: 79.378ms
| 
| 
| Finding changed files: 1.705ms
| Reading changed files: 2.654ms
| Sorting candidates: 0.091ms
| Generate rules: 2.724ms
| Build stylesheet: 0.364ms
| Source path: undefined
| Potential classes:  139
| Active contexts:  1
| Setting up new context...
| JIT TOTAL: 102.178ms
| 
| 
| Finding changed files: 2.324ms
| Reading changed files: 2.255ms
| Sorting candidates: 0.075ms
| Generate rules: 2.385ms
| Build stylesheet: 0.341ms
| Potential classes:  142
| Active contexts:  1
| JIT TOTAL: 104.406ms
| 
| 
| Finding changed files: 1.211ms
| Finding changed files: 1.264ms
| Reading changed files: 1.952ms
| Sorting candidates: 0.066ms
| Reading changed files: 2.164ms
| Sorting candidates: 0.1ms
| Generate rules: 5.593ms
| Build stylesheet: 0.414ms
| Potential classes:  127
| Active contexts:  1
| Generate rules: 6.162ms
| Build stylesheet: 0.512ms
| JIT TOTAL: 134.977ms
| 
| 
| Potential classes:  211
| Active contexts:  1
| JIT TOTAL: 101.982ms
| 
| 
| Finding changed files: 1.321ms
| Reading changed files: 10.524ms
| Sorting candidates: 0.613ms
| Generate rules: 9.332ms
| 
| 
| Build stylesheet: 1.155ms
| Potential classes:  449
| Active contexts:  1
| 
| 
| JIT TOTAL: 138.466ms
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| 
| 
| Finding changed files: 0.256ms
| Reading changed files: 1.908ms
| Sorting candidates: 0.166ms
| Generate rules: 1.907ms
| Build stylesheet: 0.09ms
| Potential classes:  435
| Active contexts:  1
| JIT TOTAL: 65.42ms
| 
| 
| Finding changed files: 0.236ms
| Source path: undefined
| Setting up new context...
| Reading changed files: 3.998ms
| Sorting candidates: 0.405ms
| Generate rules: 4.597ms
| Build stylesheet: 0.239ms
| Potential classes:  839
| Active contexts:  1
| JIT TOTAL: 76.244ms
| 
| 
| 
| 
| 
| 
| Finding changed files: 0.67ms
| Reading changed files: 2.386ms
| Sorting candidates: 0.079ms
| Generate rules: 0.87ms
| Build stylesheet: 0.092ms
| Potential classes:  220
| Active contexts:  1
| JIT TOTAL: 62.679ms
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.297ms
| Reading changed files: 11.964ms
| Sorting candidates: 0.46ms
| Generate rules: 4.04ms
| Build stylesheet: 0.116ms
| Potential classes:  971
| Active contexts:  1
| JIT TOTAL: 78.646ms
| 
| 
| 
| 
| Finding changed files: 0.295ms
| Reading changed files: 1.433ms
| Sorting candidates: 0.124ms
| Generate rules: 1.463ms
| Build stylesheet: 0.082ms
| Potential classes:  342
| Active contexts:  1
| JIT TOTAL: 96.637ms
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.275ms
| Reading changed files: 0.432ms
| Sorting candidates: 0.028ms
| Generate rules: 0.695ms
| Build stylesheet: 0.089ms
| Potential classes:  90
| Active contexts:  1
| JIT TOTAL: 63.48ms
| 
| 
| 
| 
| Finding changed files: 0.197ms
| Reading changed files: 1.179ms
| Sorting candidates: 0.061ms
| Generate rules: 0.606ms
| Build stylesheet: 0.068ms
| Potential classes:  155
| Active contexts:  1
| JIT TOTAL: 66.05ms
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.283ms
| Finding changed files: 0.297ms
| Reading changed files: 1.258ms
| Sorting candidates: 0.049ms
| 
| 
| Generate rules: 5.925ms
| Build stylesheet: 0.091ms
| Potential classes:  67
| Active contexts:  1
| JIT TOTAL: 72.955ms
| 
| 
| Reading changed files: 31.011ms
| Sorting candidates: 1.377ms
| Source path: undefined
| Setting up new context...
| Generate rules: 20.104ms
| Build stylesheet: 0.111ms
| Potential classes:  2252
| Active contexts:  1
| JIT TOTAL: 136.75ms
| 
| 
| Finding changed files: 0.284ms
| Reading changed files: 26.407ms
| Sorting candidates: 0.588ms
| Generate rules: 11.077ms
| Build stylesheet: 0.446ms
| Potential classes:  1075
| Active contexts:  1
| JIT TOTAL: 143.489ms
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.199ms
| Reading changed files: 0.584ms
| Sorting candidates: 0.092ms
| Generate rules: 0.773ms
| Build stylesheet: 0.083ms
| Potential classes:  180
| Active contexts:  1
| JIT TOTAL: 74.233ms
| 
| 
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| 
| 
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.215ms
| Finding changed files: 0.326ms
| Reading changed files: 1.046ms
| Sorting candidates: 0.093ms
| Finding changed files: 0.227ms
| Reading changed files: 5.165ms
| Generate rules: 3.696ms
| Reading changed files: 1.681ms
| Sorting candidates: 0.159ms
| Sorting candidates: 1.462ms
| Build stylesheet: 0.222ms
| Potential classes:  256
| Active contexts:  1
| JIT TOTAL: 89.699ms
| 
| 
| Generate rules: 1.029ms
| Build stylesheet: 0.071ms
| Potential classes:  414
| Active contexts:  1
| JIT TOTAL: 53.502ms
| 
| 
| Generate rules: 3.25ms
| Build stylesheet: 0.103ms
| Potential classes:  614
| Active contexts:  1
| JIT TOTAL: 84.037ms
| 
| 
| 
| 
| Finding changed files: 0.438ms
| Finding changed files: 0.259ms
| Reading changed files: 0.372ms
| Sorting candidates: 0.034ms
| Generate rules: 0.447ms
| Build stylesheet: 0.087ms
| Potential classes:  104
| Active contexts:  1
| Reading changed files: 1.987ms
| Sorting candidates: 0.206ms
| JIT TOTAL: 79.045ms
| 
| 
| Generate rules: 4.956ms
| Build stylesheet: 0.323ms
| Potential classes:  478
| Active contexts:  1
| JIT TOTAL: 82.008ms
| 
| 
| Source path: undefined
| Setting up new context...
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.589ms
| Reading changed files: 0.737ms
| Sorting candidates: 0.056ms
| Generate rules: 0.7ms
| Build stylesheet: 0.119ms
| Potential classes:  172
| Active contexts:  1
| JIT TOTAL: 63.127ms
| 
| 
| Finding changed files: 0.237ms
| Reading changed files: 1.587ms
| Sorting candidates: 0.152ms
| Generate rules: 1.671ms
| Build stylesheet: 0.231ms
| Potential classes:  398
| Active contexts:  1
| JIT TOTAL: 86.804ms
| 
| 
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.234ms
| Reading changed files: 0.402ms
| Sorting candidates: 0.054ms
| Generate rules: 0.61ms
| Build stylesheet: 0.068ms
| Potential classes:  86
| Active contexts:  1
| JIT TOTAL: 59.974ms
| 
| 
| Finding changed files: 0.443ms
| Reading changed files: 1.228ms
| Sorting candidates: 0.115ms
| Generate rules: 1.021ms
| Build stylesheet: 0.074ms
| Potential classes:  309
| Active contexts:  1
| JIT TOTAL: 102.162ms
| 
| 
| Finding changed files: 1.236ms
| Reading changed files: 4.427ms
| Sorting candidates: 0.291ms
| Generate rules: 1.666ms
| Build stylesheet: 0.086ms
| Potential classes:  636
| Active contexts:  1
| JIT TOTAL: 113.303ms
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.614ms
| Reading changed files: 0.464ms
| Sorting candidates: 0.02ms
| Generate rules: 1.212ms
| Build stylesheet: 0.141ms
| Potential classes:  29
| Active contexts:  1
| JIT TOTAL: 88.443ms
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.376ms
| Reading changed files: 1.026ms
| Sorting candidates: 0.284ms
| Generate rules: 1.065ms
| Build stylesheet: 0.07ms
| Potential classes:  325
| Active contexts:  1
| JIT TOTAL: 85.292ms
| 
| 
| Finding changed files: 0.422ms
| Reading changed files: 0.431ms
| Sorting candidates: 0.046ms
| Generate rules: 0.768ms
| Build stylesheet: 0.074ms
| Potential classes:  126
| Active contexts:  1
| JIT TOTAL: 75.287ms
| 
| 
| Finding changed files: 0.859ms
| Reading changed files: 1.555ms
| Sorting candidates: 0.184ms
| Generate rules: 2.103ms
| Build stylesheet: 0.23ms
| Potential classes:  189
| Active contexts:  1
| JIT TOTAL: 84.581ms
| 
| 
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.31ms
| Reading changed files: 4.102ms
| Sorting candidates: 0.156ms
| Finding changed files: 0.301ms
| Reading changed files: 0.747ms
| Sorting candidates: 0.045ms
| Generate rules: 0.711ms
| Build stylesheet: 0.051ms
| Potential classes:  127
| Active contexts:  1
| JIT TOTAL: 64.386ms
| 
| 
| Generate rules: 2.404ms
| Build stylesheet: 0.195ms
| Finding changed files: 0.686ms
| Potential classes:  219
| Active contexts:  1
| JIT TOTAL: 92.186ms
| 
| 
| Reading changed files: 3.071ms
| Sorting candidates: 0.243ms
| Generate rules: 2.408ms
| Build stylesheet: 0.194ms
| Potential classes:  296
| Active contexts:  1
| JIT TOTAL: 84.893ms
| 
| 
| Finding changed files: 0.215ms
| Reading changed files: 2.812ms
| Sorting candidates: 0.266ms
| Generate rules: 1.999ms
| Build stylesheet: 0.086ms
| Potential classes:  646
| Active contexts:  1
| JIT TOTAL: 80.986ms
| 
| 
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.201ms
| Reading changed files: 5.011ms
| Sorting candidates: 0.206ms
| Generate rules: 1.723ms
| Build stylesheet: 0.078ms
| Potential classes:  524
| Active contexts:  1
| JIT TOTAL: 69.712ms
| 
| 
iOS Bundled 10730ms node_modules/expo/AppEntry.js (1695 modules)
 LOG  🔥 Firebase initialized successfully
 LOG  ✅ Firebase認証永続化: AsyncStorageに明示設定完了
 LOG  📦 @react-native-async-storage/async-storage: 利用可能
 LOG  🔧 Debug mode enabled
 LOG  📱 Project ID: talknote-446306
 LOG  [API] 環境変数からベースURL取得: http://192.168.0.46:8000
 LOG  [WS] 環境変数からWebSocketURL取得: ws://192.168.0.46:8002/api/v1/stt/stream
 LOG  [API] Base URL: http://192.168.0.46:8000/api/v1
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 WARN  [expo-av]: Expo AV has been deprecated and will be removed in SDK 54. Use the `expo-audio` and `expo-video` packages to replace the required functionality.
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🧹 クリーンアップ完了: auth-storage
 LOG  データベース初期化をスキップしています
 LOG  🔍 App.tsx 認証状態: {"authLoading": true, "initialRoute": "WelcomeLogin", "user": "未認証"}
 LOG  🔐 Firebase認証状態変更: 認証済み(WvyMDrjT3BSIKHKsryvKWg3smGq2)
 LOG  🔍 App.tsx 認証状態: {"authLoading": false, "initialRoute": "Dashboard", "user": "認証済み(WvyMDrjT...)"}
 LOG  🔧 AutoSaveProvider: 初期化完了 {"currentNote": "none", "debugMode": true, "globalEnabled": true}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  [Dashboard] loadData 開始
 LOG  [Dashboard] データベース初期化中...
 LOG  [Dashboard] refreshing状態変化: false
 LOG  Recordings table created successfully
 LOG  Imports table created successfully
 LOG  Manual notes table created successfully
 LOG  Upload queue table created successfully
 LOG  Photo scans table created successfully
 LOG  Bookmarks table created successfully
 LOG  Database initialized successfully
 LOG  [Dashboard] データベース初期化完了
 LOG  [Dashboard] 録音データ取得中...
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  [Dashboard] 録音データ取得完了: 2 件
 LOG  [Dashboard] loadData 完了
 LOG  [Dashboard] isLoading = false に設定
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "heading2", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "heading2", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": null}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": false}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎤 TTS音声未生成 - 生成開始
 LOG  🎤 TTS音声生成開始
 LOG  🎤 テキスト確認: {"hasText": true, "textLength": 18, "textPreview": "これはテストです。
音声テストです。"}
 LOG  🎤 TTS API呼び出し開始: {"provider": "google", "textLength": 18}
 LOG  🎤 TTS API呼び出し直前: {"provider": "google", "textLength": 18, "ttsClientExists": true}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 TTS API(JSON)呼び出し開始: {"baseUrl": "http://192.168.0.46:8000", "provider": "elevenlabs", "textLength": 18}
 LOG  🎤 TTS合成レスポンス(JSON)詳細: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/7d1b5514-375b-4e88-a368-f1105c897f55.mp3", "duration": undefined, "provider": undefined}
 LOG  🎤 TTS API呼び出し完了: {"responseExists": true, "responseType": "object"}
 LOG  🎤 generateTTSAudio レスポンス確認: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/7d1b5514-375b-4e88-a368-f1105c897f55.mp3", "audioUrlLength": 82, "audioUrlStartsWith": "http://192.168.0.46:8000/api/v1/tts/audio/7d1b5514", "audioUrlType": "string", "duration": undefined, "hasAudioUrl": true, "hasSentences": true, "provider": undefined, "sentencesLength": 2}
 LOG  ✅ 音声URL検証完了: {"isValidUrl": true, "url": "http://192.168.0.46:8000/api/v1/tts/audio/7d1b5514-375b-4e88-a368-f1105c897f55.mp3"}
 LOG  🎤 TTSリソース解放
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 TTS音声ロード開始: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/7d1b5514-375b-4e88-a368-f1105c897f55.mp3", "sentencesCount": 2, "urlType": "http"}
 LOG  🎤 TTS音声ファイル読み込み完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/7d1b5514-375b-4e88-a368-f1105c897f55.mp3", "duration": 3.8571428571428568, "sentencesCount": 2}
 LOG  ✅ TTS音声生成完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/7d1b5514-375b-4e88-a368-f1105c897f55.mp3", "duration": undefined, "provider": undefined, "sentenceCount": 2, "textLength": 18}
 LOG  🎤 TTS音声生成完了 - 再生開始
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/7d1b5514-375b-4e88-a368-f1105c897f55.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 初回再生: AudioPlayer.loadSound() でロード開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/7d1b5514-375b-4e88-a368-f1105c897f55.mp3
 LOG  🎤 初回音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.072, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.072, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.29ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 22.289959013462067}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "11.42ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 11.420708000659943}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.187, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.187, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.304, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.304, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.421, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.421, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.538, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.538, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.654, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.654, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.771, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.771, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.887, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.887, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.003, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.003, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.12, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.12, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.237, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.237, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.353, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.353, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.47, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.47, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.586, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.586, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.703, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.703, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.819, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.819, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.936, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.936, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.052, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.052, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.169, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.169, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.285, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.285, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.402, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.402, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.518, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.518, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.635, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.635, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 WARN  ⚠️ Seeking interrupted を無視して続行
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 18, "pathsCount": 0, "title": "ノート2025-06-14"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "heading2", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "37.59ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 884, "saveTime": 37.59383299946785}, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "savedAt": "2025-06-14T04:08:58.061Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 37.59383299946785}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/7d1b5514-375b-4e88-a368-f1105c897f55.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/7d1b5514-375b-4e88-a368-f1105c897f55.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 初回再生: AudioPlayer.loadSound() でロード開始
 LOG  音声リソース解放
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/7d1b5514-375b-4e88-a368-f1105c897f55.mp3
 LOG  🎤 初回音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.081, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.081, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.89ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 20.886250019073486}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.54ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 21.54287499189377}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.195, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.195, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.311, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.311, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.428, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.428, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.545, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.545, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.661, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.661, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.778, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.778, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.894, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.894, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.011, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.011, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.127, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.127, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.244, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.244, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.36, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.36, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.477, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.477, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.593, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.593, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.71, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.71, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.827, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.827, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.943, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.943, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.059, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.059, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.176, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.176, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.293, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.293, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.409, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.409, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.525, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.525, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.642, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.642, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 WARN  ⚠️ Seeking interrupted を無視して続行
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 18, "pathsCount": 0, "title": "ノート2025-06-14"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "heading2", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "38.20ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 884, "saveTime": 38.19608300924301}, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "savedAt": "2025-06-14T04:09:08.315Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 38.19608300924301}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.28ms
| Reading changed files: 4.467ms
| Sorting candidates: 0.303ms
| Generate rules: 2.031ms
| Build stylesheet: 0.095ms
| Potential classes:  638
| Active contexts:  1
| JIT TOTAL: 51.606ms
| 
| 
iOS Bundled 263ms node_modules/expo/AppEntry.js (1 module)
 LOG  🔥 Firebase initialized successfully
 LOG  ✅ Firebase認証永続化: AsyncStorageに明示設定完了
 LOG  📦 @react-native-async-storage/async-storage: 利用可能
 LOG  🔧 Debug mode enabled
 LOG  📱 Project ID: talknote-446306
 LOG  [API] 環境変数からベースURL取得: http://192.168.0.46:8000
 LOG  [WS] 環境変数からWebSocketURL取得: ws://192.168.0.46:8002/api/v1/stt/stream
 LOG  [API] Base URL: http://192.168.0.46:8000/api/v1
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 WARN  [expo-av]: Expo AV has been deprecated and will be removed in SDK 54. Use the `expo-audio` and `expo-video` packages to replace the required functionality.
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🧹 クリーンアップ完了: auth-storage
 LOG  データベース初期化をスキップしています
 LOG  🔍 App.tsx 認証状態: {"authLoading": true, "initialRoute": "WelcomeLogin", "user": "未認証"}
 LOG  🔐 Firebase認証状態変更: 認証済み(WvyMDrjT3BSIKHKsryvKWg3smGq2)
 LOG  🔍 App.tsx 認証状態: {"authLoading": false, "initialRoute": "Dashboard", "user": "認証済み(WvyMDrjT...)"}
 LOG  🔧 AutoSaveProvider: 初期化完了 {"currentNote": "none", "debugMode": true, "globalEnabled": true}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  [Dashboard] loadData 開始
 LOG  [Dashboard] データベース初期化中...
 LOG  [Dashboard] refreshing状態変化: false
 LOG  Recordings table created successfully
 LOG  Imports table created successfully
 LOG  Manual notes table created successfully
 LOG  Upload queue table created successfully
 LOG  Photo scans table created successfully
 LOG  Bookmarks table created successfully
 LOG  Database initialized successfully
 LOG  [Dashboard] データベース初期化完了
 LOG  [Dashboard] 録音データ取得中...
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  [Dashboard] 録音データ取得完了: 2 件
 LOG  [Dashboard] loadData 完了
 LOG  [Dashboard] isLoading = false に設定
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "heading2", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "heading2", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": null}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": false}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎤 TTS音声未生成 - 生成開始
 LOG  🎤 TTS音声生成開始
 LOG  🎤 テキスト確認: {"hasText": true, "textLength": 18, "textPreview": "これはテストです。
音声テストです。"}
 LOG  🎤 TTS API呼び出し開始: {"provider": "google", "textLength": 18}
 LOG  🎤 TTS API呼び出し直前: {"provider": "google", "textLength": 18, "ttsClientExists": true}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 TTS API(JSON)呼び出し開始: {"baseUrl": "http://192.168.0.46:8000", "provider": "elevenlabs", "textLength": 18}
 LOG  🎤 TTS合成レスポンス(JSON)詳細: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/909a8269-c564-4f14-a51c-7a31a254ee27.mp3", "duration": undefined, "provider": undefined}
 LOG  🎤 TTS API呼び出し完了: {"responseExists": true, "responseType": "object"}
 LOG  🎤 generateTTSAudio レスポンス確認: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/909a8269-c564-4f14-a51c-7a31a254ee27.mp3", "audioUrlLength": 82, "audioUrlStartsWith": "http://192.168.0.46:8000/api/v1/tts/audio/909a8269", "audioUrlType": "string", "duration": undefined, "hasAudioUrl": true, "hasSentences": true, "provider": undefined, "sentencesLength": 2}
 LOG  ✅ 音声URL検証完了: {"isValidUrl": true, "url": "http://192.168.0.46:8000/api/v1/tts/audio/909a8269-c564-4f14-a51c-7a31a254ee27.mp3"}
 LOG  🎤 TTSリソース解放
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 TTS音声ロード開始: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/909a8269-c564-4f14-a51c-7a31a254ee27.mp3", "sentencesCount": 2, "urlType": "http"}
 LOG  🎤 TTS音声ファイル読み込み完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/909a8269-c564-4f14-a51c-7a31a254ee27.mp3", "duration": 3.8571428571428568, "sentencesCount": 2}
 LOG  ✅ TTS音声生成完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/909a8269-c564-4f14-a51c-7a31a254ee27.mp3", "duration": undefined, "provider": undefined, "sentenceCount": 2, "textLength": 18}
 LOG  🎤 TTS音声生成完了 - 再生開始
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/909a8269-c564-4f14-a51c-7a31a254ee27.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 初回再生: AudioPlayer.loadSound() でロード開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/909a8269-c564-4f14-a51c-7a31a254ee27.mp3
 LOG  🎤 初回音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.079, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.079, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.54ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 18.539000004529953}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.59ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 12.59254202246666}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.195, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.195, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.312, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.312, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.429, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.429, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.545, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.545, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.662, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.662, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.778, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.778, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.895, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.895, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.011, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.011, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.128, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.128, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.244, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.244, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.361, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.361, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.477, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.477, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.594, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.594, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.71, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.71, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.827, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.827, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.943, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.943, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.059, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.059, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.177, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.177, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.293, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.293, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.409, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.409, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.526, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.526, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.643, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.643, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 WARN  ⚠️ Seeking interrupted を無視して続行
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 18, "pathsCount": 0, "title": "ノート2025-06-14"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "heading2", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "35.93ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 884, "saveTime": 35.933291018009186}, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "savedAt": "2025-06-14T04:15:08.393Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 35.933291018009186}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
| 
| 
| Source path: undefined
| Finding changed files: 0.771ms
| Reading changed files: 3.83ms
| Sorting candidates: 0.3ms
| Generate rules: 0.789ms
| Build stylesheet: 0.002ms
| Potential classes:  637
| Active contexts:  1
| JIT TOTAL: 20.987ms
| 
| 
iOS Bundled 219ms node_modules/expo/AppEntry.js (1 module)
 LOG  🔥 Firebase initialized successfully
 LOG  ✅ Firebase認証永続化: AsyncStorageに明示設定完了
 LOG  📦 @react-native-async-storage/async-storage: 利用可能
 LOG  🔧 Debug mode enabled
 LOG  📱 Project ID: talknote-446306
 LOG  [API] 環境変数からベースURL取得: http://192.168.0.46:8000
 LOG  [WS] 環境変数からWebSocketURL取得: ws://192.168.0.46:8002/api/v1/stt/stream
 LOG  [API] Base URL: http://192.168.0.46:8000/api/v1
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 WARN  [expo-av]: Expo AV has been deprecated and will be removed in SDK 54. Use the `expo-audio` and `expo-video` packages to replace the required functionality.
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🧹 クリーンアップ完了: auth-storage
 LOG  データベース初期化をスキップしています
 LOG  🔍 App.tsx 認証状態: {"authLoading": true, "initialRoute": "WelcomeLogin", "user": "未認証"}
 LOG  🔐 Firebase認証状態変更: 認証済み(WvyMDrjT3BSIKHKsryvKWg3smGq2)
 LOG  🔍 App.tsx 認証状態: {"authLoading": false, "initialRoute": "Dashboard", "user": "認証済み(WvyMDrjT...)"}
 LOG  🔧 AutoSaveProvider: 初期化完了 {"currentNote": "none", "debugMode": true, "globalEnabled": true}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  [Dashboard] loadData 開始
 LOG  [Dashboard] データベース初期化中...
 LOG  [Dashboard] refreshing状態変化: false
 LOG  Recordings table created successfully
 LOG  Imports table created successfully
 LOG  Manual notes table created successfully
 LOG  Upload queue table created successfully
 LOG  Photo scans table created successfully
 LOG  Bookmarks table created successfully
 LOG  Database initialized successfully
 LOG  [Dashboard] データベース初期化完了
 LOG  [Dashboard] 録音データ取得中...
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  [Dashboard] 録音データ取得完了: 2 件
 LOG  [Dashboard] loadData 完了
 LOG  [Dashboard] isLoading = false に設定
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "heading2", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "heading2", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": null}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": false}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎤 TTS音声未生成 - 生成開始
 LOG  🎤 TTS音声生成開始
 LOG  🎤 テキスト確認: {"hasText": true, "textLength": 18, "textPreview": "これはテストです。
音声テストです。"}
 LOG  🎤 TTS API呼び出し開始: {"provider": "google", "textLength": 18}
 LOG  🎤 TTS API呼び出し直前: {"provider": "google", "textLength": 18, "ttsClientExists": true}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 TTS API(JSON)呼び出し開始: {"baseUrl": "http://192.168.0.46:8000", "provider": "elevenlabs", "textLength": 18}
 LOG  🎤 TTS合成レスポンス(JSON)詳細: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3", "duration": undefined, "provider": undefined}
 LOG  🎤 TTS API呼び出し完了: {"responseExists": true, "responseType": "object"}
 LOG  🎤 generateTTSAudio レスポンス確認: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3", "audioUrlLength": 82, "audioUrlStartsWith": "http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541", "audioUrlType": "string", "duration": undefined, "hasAudioUrl": true, "hasSentences": true, "provider": undefined, "sentencesLength": 2}
 LOG  ✅ 音声URL検証完了: {"isValidUrl": true, "url": "http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3"}
 LOG  🎤 TTSリソース解放
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 TTS音声ロード開始: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3", "sentencesCount": 2, "urlType": "http"}
 LOG  🎤 TTS音声ファイル読み込み完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3", "duration": 3.8571428571428568, "sentencesCount": 2}
 LOG  ✅ TTS音声生成完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3", "duration": undefined, "provider": undefined, "sentenceCount": 2, "textLength": 18}
 LOG  🎤 TTS音声生成完了 - 再生開始
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.077, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.077, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.88ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 17.881000012159348}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.19ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 12.187958002090454}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.192, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.192, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.309, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.309, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.426, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.426, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.543, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.543, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.659, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.659, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.776, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.776, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.892, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.892, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.009, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.009, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.125, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.125, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.242, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.242, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.358, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.358, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.475, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.475, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.591, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.591, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.708, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.708, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.824, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.824, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.941, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.941, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.057, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.057, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.174, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.174, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.29, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.29, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.406, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.406, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.523, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.523, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.64, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.64, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生完了検知: {"currentPosition": 2.756, "duration": 3.8571428571428568, "isPlaying": true, "percentage": "71.5%", "threshold": 2.6999999999999997}
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.088, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.088, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.31ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 19.30929198861122}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.62ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 19.620124995708466}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.204, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.204, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.321, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.321, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.438, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.438, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.554, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.554, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.671, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.671, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.787, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.787, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.904, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.904, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.02, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.02, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.136, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.136, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.253, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.253, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.37, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.37, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.486, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.486, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.602, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.602, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.719, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.719, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.836, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.836, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.952, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.952, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.068, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.068, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.185, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.185, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.302, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.302, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.418, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.418, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.534, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.534, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.651, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.651, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/6cf7e541-790c-490c-aa0e-88cb48fcefc7.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.075, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.075, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "26.96ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 26.959957987070084}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.69ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 13.692582994699478}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.19, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.19, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.307, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.307, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.427, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.427, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.54, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.54, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.657, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.657, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.774, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.774, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.89, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.89, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.006, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.006, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.123, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.123, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.239, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.239, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.356, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.356, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.472, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.472, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.589, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.589, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.705, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.705, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.822, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.822, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.938, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.938, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.054, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.054, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.171, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.171, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.288, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.288, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.404, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.404, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.52, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.52, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.637, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.637, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 20, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading2"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"textType": "heading3"}, "hasUnsavedChanges": true, "toolbarFunction": "heading_change"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: heading_change
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"textType": "heading3"}, "toolbarFunction": "heading_change"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 18, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading3"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 18, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading3"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 18, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading3"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "29.72ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 29.722250014543533}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 18, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading3"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "28.73ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 28.728792011737823}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 18, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "bold", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "heading3"}
 LOG  🏷️ 変更フラグ設定: {"data": {"textType": "body"}, "hasUnsavedChanges": true, "toolbarFunction": "heading_change"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: heading_change
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"textType": "body"}, "toolbarFunction": "heading_change"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🔙 画面遷移検出（戻るボタン or スワイプ）
 LOG  🔄 画面遷移時の自動保存開始...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "31.92ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 31.91933301091194}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "55.34ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 55.33737501502037}
 LOG  ✅ 画面遷移時の自動保存完了
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": "keyboard", "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": null}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": false}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎤 TTS音声未生成 - 生成開始
 LOG  🎤 TTS音声生成開始
 LOG  🎤 テキスト確認: {"hasText": true, "textLength": 18, "textPreview": "これはテストです。
音声テストです。"}
 LOG  🎤 TTS API呼び出し開始: {"provider": "google", "textLength": 18}
 LOG  🎤 TTS API呼び出し直前: {"provider": "google", "textLength": 18, "ttsClientExists": true}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 TTS API(JSON)呼び出し開始: {"baseUrl": "http://192.168.0.46:8000", "provider": "elevenlabs", "textLength": 18}
 LOG  🎤 TTS合成レスポンス(JSON)詳細: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3", "duration": undefined, "provider": undefined}
 LOG  🎤 TTS API呼び出し完了: {"responseExists": true, "responseType": "object"}
 LOG  🎤 generateTTSAudio レスポンス確認: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3", "audioUrlLength": 82, "audioUrlStartsWith": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc", "audioUrlType": "string", "duration": undefined, "hasAudioUrl": true, "hasSentences": true, "provider": undefined, "sentencesLength": 2}
 LOG  ✅ 音声URL検証完了: {"isValidUrl": true, "url": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎤 TTSリソース解放
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 TTS音声ロード開始: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3", "sentencesCount": 2, "urlType": "http"}
 LOG  🎤 TTS音声ファイル読み込み完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3", "duration": 3.8571428571428568, "sentencesCount": 2}
 LOG  ✅ TTS音声生成完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3", "duration": undefined, "provider": undefined, "sentenceCount": 2, "textLength": 18}
 LOG  🎤 TTS音声生成完了 - 再生開始
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.093, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.093, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "30.85ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 30.851666003465652}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.91ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 16.907833009958267}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.208, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.208, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.325, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.325, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.442, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.442, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.559, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.559, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.675, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.675, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.791, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.791, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.908, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.908, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 0.93
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 0.93
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.93, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.93, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0.93, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 一時停止位置から再開: 0.93
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0.93, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": true}
 LOG  🎤 一時停止からの再開: 音声再ロードをスキップ
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.93, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.93, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  再生位置設定: 0.93
 LOG  🎤 TTS再生位置設定: 0.93
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.93, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.93, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.49ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 20.486707985401154}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "5.12ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 5.115832984447479}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.985, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.985, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.102, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.102, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.218, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.218, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.335, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.335, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.452, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.452, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.568, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.568, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.685, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.685, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.801, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.801, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 1.874
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 1.874
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.874, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.874, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 1.874, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 一時停止位置から再開: 1.874
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 1.874, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": true}
 LOG  🎤 一時停止からの再開: 音声再ロードをスキップ
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.874, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.874, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.874, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.874, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  再生位置設定: 1.874
 LOG  🎤 TTS再生位置設定: 1.874
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.874, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.874, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.38ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 16.378791987895966}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "4.22ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 4.219334006309509}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.905, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.905, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.021, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.021, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.138, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.138, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.259, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.259, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 2.306
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 2.306
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.306, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.306, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 2.306, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 一時停止位置から再開: 2.306
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 2.306, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": true}
 LOG  🎤 一時停止からの再開: 音声再ロードをスキップ
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.306, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.306, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  再生位置設定: 2.306
 LOG  🎤 TTS再生位置設定: 2.306
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.306, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.306, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.37ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 19.373916000127792}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "4.47ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 4.473084002733231}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.352, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.352, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.469, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.469, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.585, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.585, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生完了検知: {"currentPosition": 2.702, "duration": 3.8571428571428568, "isPlaying": true, "percentage": "70.1%", "threshold": 2.6999999999999997}
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.074, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.074, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "26.58ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 26.582416981458664}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.13ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 13.131332993507385}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.188, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.188, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.304, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.304, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.421, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.421, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.538, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.538, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.655, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.655, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.771, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.771, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.887, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.887, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 0.973
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 0.973
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.973, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.973, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0.973, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 一時停止位置から再開: 0.973
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0.973, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": true}
 LOG  🎤 一時停止からの再開: 音声再ロードをスキップ
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.973, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.973, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  再生位置設定: 0.973
 LOG  🎤 TTS再生位置設定: 0.973
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.973, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.973, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.00ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 20.99770900607109}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "5.17ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 5.169165998697281}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.005, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.005, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.104, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.104, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.222, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.222, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.337, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.337, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.454, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.454, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.57, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.57, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.687, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.687, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.804, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.804, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.92, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.92, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 1.955
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 1.955
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.955, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.955, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 1.955, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 一時停止位置から再開: 1.955
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 1.955, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": true}
 LOG  🎤 一時停止からの再開: 音声再ロードをスキップ
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.955, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.955, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.955, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.955, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  再生位置設定: 1.955
 LOG  🎤 TTS再生位置設定: 1.955
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.955, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.955, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.91ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 17.910208016633987}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "4.56ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 4.56216698884964}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.984, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.984, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.1, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.1, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.216, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.216, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.334, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.334, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.45, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.45, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.567, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.567, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.683, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.683, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 18, "pathsCount": 0, "title": "ノート2025-06-14"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "35.45ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 880, "saveTime": 35.452832996845245}, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "savedAt": "2025-06-14T04:17:50.232Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 35.452832996845245}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.075, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.075, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "27.33ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 27.32608300447464}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.62ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 12.61599999666214}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.189, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.189, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.306, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.306, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.423, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.423, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.539, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.539, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.656, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.656, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.772, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.772, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.889, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.889, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/d2ae04bc-9114-486b-824c-5aaf02b76442.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 0.92
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 0.92
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.92, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.92, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 18, "pathsCount": 0, "title": "ノート2025-06-14"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "39.96ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 880, "saveTime": 39.959625005722046}, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "savedAt": "2025-06-14T04:18:10.607Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 39.959625005722046}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "34.26ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 34.259375005960464}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.71ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 17.70804199576378}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
| 
| 
| Source path: undefined
| Setting up new context...
| Finding changed files: 0.215ms
| Reading changed files: 12.478ms
| Sorting candidates: 1.066ms
| Generate rules: 5.587ms
| Build stylesheet: 0.108ms
| Potential classes:  2252
| Active contexts:  1
| JIT TOTAL: 59.451ms
| 
| 
iOS Bundled 1202ms node_modules/expo/AppEntry.js (1 module)
 LOG  🔥 Firebase initialized successfully
 LOG  ✅ Firebase認証永続化: AsyncStorageに明示設定完了
 LOG  📦 @react-native-async-storage/async-storage: 利用可能
 LOG  🔧 Debug mode enabled
 LOG  📱 Project ID: talknote-446306
 LOG  [API] 環境変数からベースURL取得: http://192.168.0.46:8000
 LOG  [WS] 環境変数からWebSocketURL取得: ws://192.168.0.46:8002/api/v1/stt/stream
 LOG  [API] Base URL: http://192.168.0.46:8000/api/v1
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 WARN  [expo-av]: Expo AV has been deprecated and will be removed in SDK 54. Use the `expo-audio` and `expo-video` packages to replace the required functionality.
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🧹 クリーンアップ完了: auth-storage
 LOG  データベース初期化をスキップしています
 LOG  🔍 App.tsx 認証状態: {"authLoading": true, "initialRoute": "WelcomeLogin", "user": "未認証"}
 LOG  🔐 Firebase認証状態変更: 認証済み(WvyMDrjT3BSIKHKsryvKWg3smGq2)
 LOG  🔍 App.tsx 認証状態: {"authLoading": false, "initialRoute": "Dashboard", "user": "認証済み(WvyMDrjT...)"}
 LOG  🔧 AutoSaveProvider: 初期化完了 {"currentNote": "none", "debugMode": true, "globalEnabled": true}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  [Dashboard] loadData 開始
 LOG  [Dashboard] データベース初期化中...
 LOG  [Dashboard] refreshing状態変化: false
 LOG  Recordings table created successfully
 LOG  Imports table created successfully
 LOG  Manual notes table created successfully
 LOG  Upload queue table created successfully
 LOG  Photo scans table created successfully
 LOG  Bookmarks table created successfully
 LOG  Database initialized successfully
 LOG  [Dashboard] データベース初期化完了
 LOG  [Dashboard] 録音データ取得中...
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  [Dashboard] 録音データ取得完了: 2 件
 LOG  [Dashboard] loadData 完了
 LOG  [Dashboard] isLoading = false に設定
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": null}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": false}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎤 TTS音声未生成 - 生成開始
 LOG  🎤 TTS音声生成開始
 LOG  🎤 テキスト確認: {"hasText": true, "textLength": 18, "textPreview": "これはテストです。
音声テストです。"}
 LOG  🎤 TTS API呼び出し開始: {"provider": "google", "textLength": 18}
 LOG  🎤 TTS API呼び出し直前: {"provider": "google", "textLength": 18, "ttsClientExists": true}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 TTS API(JSON)呼び出し開始: {"baseUrl": "http://192.168.0.46:8000", "provider": "elevenlabs", "textLength": 18}
 LOG  🎤 TTS合成レスポンス(JSON)詳細: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3", "duration": undefined, "provider": undefined}
 LOG  🎤 TTS API呼び出し完了: {"responseExists": true, "responseType": "object"}
 LOG  🎤 generateTTSAudio レスポンス確認: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3", "audioUrlLength": 82, "audioUrlStartsWith": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8", "audioUrlType": "string", "duration": undefined, "hasAudioUrl": true, "hasSentences": true, "provider": undefined, "sentencesLength": 2}
 LOG  ✅ 音声URL検証完了: {"isValidUrl": true, "url": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3"}
 LOG  🎤 TTSリソース解放
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 TTS音声ロード開始: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3", "sentencesCount": 2, "urlType": "http"}
 LOG  🎤 TTS音声ファイル読み込み完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3", "duration": 3.8571428571428568, "sentencesCount": 2}
 LOG  ✅ TTS音声生成完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3", "duration": undefined, "provider": undefined, "sentenceCount": 2, "textLength": 18}
 LOG  🎤 TTS音声生成完了 - 再生開始
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.066, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.066, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.70ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 18.70100000500679}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.62ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 17.62116700410843}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.182, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.182, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.299, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.299, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.415, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.415, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.532, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.532, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.648, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.648, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.765, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.765, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.881, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.881, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.998, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.998, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.115, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.115, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.231, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.231, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.348, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.348, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.464, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.464, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.581, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.581, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.697, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.697, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.814, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.814, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.93, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.93, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.046, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.046, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.163, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.163, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.28, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.28, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.396, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.396, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.512, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.512, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.629, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.629, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 18, "pathsCount": 0, "title": "ノート2025-06-14"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "35.83ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 880, "saveTime": 35.83245798945427}, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "savedAt": "2025-06-14T04:19:34.768Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 35.83245798945427}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
| 
| 
| Source path: undefined
| Finding changed files: 0.685ms
| Reading changed files: 16.727ms
| Sorting candidates: 1.17ms
| Generate rules: 3.006ms
| Build stylesheet: 0.002ms
| Potential classes:  2255
| Active contexts:  1
| JIT TOTAL: 36.746ms
| 
| 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.084, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.084, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "30.31ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 30.31095799803734}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.93ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 15.92858400940895}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.198, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.198, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.314, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.314, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.432, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.432, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.548, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.548, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.664, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.664, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.781, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.781, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.898, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.898, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.013, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.013, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.13, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.13, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.247, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.247, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.364, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.364, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.48, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.48, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.597, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.597, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.713, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.713, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.829, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.829, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.946, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.946, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.062, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.062, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 2.132
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 2.132
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.132, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.132, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 18, "pathsCount": 0, "title": "ノート2025-06-14"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "39.97ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 880, "saveTime": 39.97187501192093}, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "savedAt": "2025-06-14T04:21:51.631Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 39.97187501192093}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "34.28ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 34.28204199671745}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.89ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 17.887416005134583}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
| 
| 
| Source path: undefined
| Finding changed files: 1.043ms
| Reading changed files: 24.145ms
| Sorting candidates: 1.707ms
| Generate rules: 2.185ms
| Build stylesheet: 0.002ms
| Potential classes:  2252
| Active contexts:  1
| JIT TOTAL: 41.186ms
| 
| 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 2.132, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 一時停止位置から再開: 2.132
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 2.132, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": true}
 LOG  🎤 一時停止からの再開: 音声再ロードをスキップ
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.132, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.132, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  再生位置設定: 2.132
 LOG  🎤 TTS再生位置設定: 2.132
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.132, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.132, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.14, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.14, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.14ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 15.136792004108429}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.51ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 16.511832982301712}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.256, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.256, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.373, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.373, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.49, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.49, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.607, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.607, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.074, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.074, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.86ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 20.855167001485825}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.64ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 19.63900002837181}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.187, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.187, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.304, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.304, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.421, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.421, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.538, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.538, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.654, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.654, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.771, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.771, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.887, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.887, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.004, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.004, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.12, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.12, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.236, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.236, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.353, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.353, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.47, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.47, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.586, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.586, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.702, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.702, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.819, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.819, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.936, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.936, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.052, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.052, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.168, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.168, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.285, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.285, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.401, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.401, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.518, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.518, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.634, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.634, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.09, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.09, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "27.08ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 27.080707997083664}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.05ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 12.053042024374008}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.205, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.205, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.322, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.322, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.439, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.439, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.555, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.555, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.671, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.671, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.771, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.771, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.888, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.888, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.005, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.005, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 1.011
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 1.011
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.011, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.011, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.06ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 22.05920797586441}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "40.62ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 40.620541989803314}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 1.011, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 一時停止位置から再開: 1.011
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 1.011, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": true}
 LOG  🎤 一時停止からの再開: 音声再ロードをスキップ
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.011, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.011, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.011, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.011, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  再生位置設定: 1.011
 LOG  🎤 TTS再生位置設定: 1.011
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.011, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.011, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.011, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.011, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.089, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.089, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.12ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 20.12212499976158}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.61ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 15.613749980926514}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.204, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.204, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.321, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.321, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.438, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.438, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.555, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.555, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.671, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.671, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.787, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.787, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.904, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.904, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.02, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.02, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.137, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.137, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.254, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.254, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.37, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.37, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.486, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.486, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.603, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.603, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 18, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 3.8571428571428568, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/596a17a8-e863-4e50-b2b7-298c59baf854.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.071, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.071, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.34ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 19.342249989509583}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.79ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 18, "noteType": "manual", "pathsCount": 0, "saveTime": 12.788832992315292}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 18, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.186, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.186, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.303, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.303, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.42, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.42, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.537, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.537, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.653, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.653, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.77, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.77, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.886, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.886, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.003, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.003, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.119, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.119, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.235, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.235, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.352, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.352, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.468, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.468, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.585, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.585, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.701, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.701, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.818, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.818, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.934, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.934, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.051, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.051, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.167, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.167, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.284, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.284, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.4, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.4, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.516, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.516, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.633, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.633, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🔙 画面遷移検出（戻るボタン or スワイプ）
 LOG  📝 未保存の変更なし - 保存スキップ
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-13"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 1}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": "pen", "selectedTool": "pen", "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: aea8f66a-a020-464f-956d-a150c0cef950 ページ1
 LOG  📌 しおりなし: aea8f66a-a020-464f-956d-a150c0cef950 -> デフォルトページ1
 LOG  📌 しおり状態ロード: aea8f66a-a020-464f-956d-a150c0cef950 なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": null}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": false}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎤 TTS音声未生成 - 生成開始
 LOG  🎤 TTS音声生成開始
 LOG  🎤 テキスト確認: {"hasText": true, "textLength": 437, "textPreview": "自分にとっての成功とは：成功したのかしてないのか良くわからないけど、人生楽しかったなと思って最後を終えることが成功。
そして、僕が望む成功は決して、王道であり、皆が目指す耳にタコができるくらい聞き飽き..."}
 LOG  🎤 TTS API呼び出し開始: {"provider": "google", "textLength": 437}
 LOG  🎤 TTS API呼び出し直前: {"provider": "google", "textLength": 437, "ttsClientExists": true}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 TTS API(JSON)呼び出し開始: {"baseUrl": "http://192.168.0.46:8000", "provider": "elevenlabs", "textLength": 437}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 TTS合成レスポンス(JSON)詳細: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3", "duration": undefined, "provider": undefined}
 LOG  🎤 TTS API呼び出し完了: {"responseExists": true, "responseType": "object"}
 LOG  🎤 generateTTSAudio レスポンス確認: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3", "audioUrlLength": 82, "audioUrlStartsWith": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691", "audioUrlType": "string", "duration": undefined, "hasAudioUrl": true, "hasSentences": true, "provider": undefined, "sentencesLength": 13}
 LOG  ✅ 音声URL検証完了: {"isValidUrl": true, "url": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3"}
 LOG  🎤 TTSリソース解放
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 TTS音声ロード開始: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3", "sentencesCount": 13, "urlType": "http"}
 LOG  🎤 TTS音声ファイル読み込み完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3", "duration": 93.64285714285715, "sentencesCount": 13}
 LOG  ✅ TTS音声生成完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3", "duration": undefined, "provider": undefined, "sentenceCount": 13, "textLength": 437}
 LOG  🎤 TTS音声生成完了 - 再生開始
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 93.64285714285715, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.093, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.093, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "23.26ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 23.26283299922943}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.50ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 21.495167016983032}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.209, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.209, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.326, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.326, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.443, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.443, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.559, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.559, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.675, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.675, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.792, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.792, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.908, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.908, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.025, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.025, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.142, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.142, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.258, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.258, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.375, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.375, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.491, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.491, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.608, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.608, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.724, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.724, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.841, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.841, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.957, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.957, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.073, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.073, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.19, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.19, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.307, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.307, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.423, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.423, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.539, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.539, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.656, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.656, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.772, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.772, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.889, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.889, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.989, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.989, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.105, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.105, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 1
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.221, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.221, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.338, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.338, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.454, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.454, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.571, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.571, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.688, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.688, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.805, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.805, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.921, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.921, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.037, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.037, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.154, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.154, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.271, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.271, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.386, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.386, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.504, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.504, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.619, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.619, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.736, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.736, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.852, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.852, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.969, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.969, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.085, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.085, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.202, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.202, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.318, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.318, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.435, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.435, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.551, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.551, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.668, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.668, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.784, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.784, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.9, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.9, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.017, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.017, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 2
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.133, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.133, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.25, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.25, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.366, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.366, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.482, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.482, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 6.518
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 6.518
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.518, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.518, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 6.518, "duration": 93.64285714285715, "isPlaying": false}
 LOG  🎵 一時停止位置から再開: 6.518
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 6.518, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": true}
 LOG  🎤 一時停止からの再開: 音声再ロードをスキップ
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.518, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.518, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  再生位置設定: 6.518
 LOG  🎤 TTS再生位置設定: 6.518
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.518, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.518, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.64ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 20.64375001192093}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "5.81ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 5.813749998807907}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.561, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.561, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.677, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.677, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.794, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.794, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.911, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.911, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.027, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.027, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.143, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.143, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.26, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.26, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.376, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.376, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 7.428
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 7.428
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.428, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.428, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 7.428, "duration": 93.64285714285715, "isPlaying": false}
 LOG  🎵 一時停止位置から再開: 7.428
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 7.428, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": true}
 LOG  🎤 一時停止からの再開: 音声再ロードをスキップ
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.428, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.428, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  再生位置設定: 7.428
 LOG  🎤 TTS再生位置設定: 7.428
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.428, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.428, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.16ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 20.16270798444748}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "4.94ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 4.943000018596649}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.483, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.483, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.599, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.599, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.716, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.716, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.833, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.833, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.949, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.949, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.066, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.066, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.182, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.182, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.299, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.299, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.415, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.415, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.532, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.532, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.648, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.648, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.765, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.765, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.881, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.881, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.998, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.998, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.114, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.114, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 3
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.23, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.23, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.348, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.348, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.464, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.464, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.58, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.58, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.697, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.697, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.813, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.813, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.93, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.93, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.046, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.046, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.203, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.203, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.278, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.278, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.395, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.395, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.512, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.512, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.629, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.629, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.745, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.745, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.861, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.861, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.978, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.978, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.094, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.094, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.211, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.211, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.329, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.329, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.452, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.452, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.56, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.56, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.677, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.677, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.793, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.793, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.91, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.91, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.025, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.025, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.71ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 13.70762500166893}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "10.03ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 10.030542016029358}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵 TTS同期ハイライト更新: 4
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.142, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.142, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.258, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.258, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.359, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.359, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.475, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.475, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.591, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.591, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.708, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.708, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.825, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.825, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.941, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.941, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.058, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.058, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.175, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.175, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.291, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.291, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.407, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.407, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.524, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.524, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.64, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.64, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.757, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.757, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.873, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.873, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.989, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.989, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.106, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.106, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.223, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.223, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.339, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.339, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.442, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.442, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.555, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.555, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.49ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 15.491374999284744}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.58ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 16.57958298921585}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.671, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.671, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.788, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.788, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.905, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.905, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.021, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.021, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 5
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.138, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.138, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.254, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.254, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.371, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.371, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.487, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.487, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.604, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.604, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.72, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.72, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.837, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.837, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.954, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.954, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.07, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.07, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.186, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.186, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.303, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.303, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.42, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.42, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.536, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.536, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.652, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.652, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.769, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.769, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.885, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.885, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.002, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.002, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.118, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.118, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.235, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.235, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.351, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.351, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.468, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.468, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.584, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.584, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 1 → 1.5
 LOG  🎤 再生速度設定開始: 1.5
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 1.5
 LOG  🎵 TTS再生速度設定完了: 1.5
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 1.5}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 1.5}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.636, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.636, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.20ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 12.202499985694885}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "10.28ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 10.276542007923126}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.636, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.636, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.743, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.743, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.918, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.918, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 1.5 → 2
 LOG  🎤 再生速度設定開始: 2
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 2
 LOG  🎵 TTS再生速度設定完了: 2
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 2}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 2}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.054, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.054, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.25ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 13.249125003814697}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.46ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 16.459041982889175}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵 TTS同期ハイライト更新: 6
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.192, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.192, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.425, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.425, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.659, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.659, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.892, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.892, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.125, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.125, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.358, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.358, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.591, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.591, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.824, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.824, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.057, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.057, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.29, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.29, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.522, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.522, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.756, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.756, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.989, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.989, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.222, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.222, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 7
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.455, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.455, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.688, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.688, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.921, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.921, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.154, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.154, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.387, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.387, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.62, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.62, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.853, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.853, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.086, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.086, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.319, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.319, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.552, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.552, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.785, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.785, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.018, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.018, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 8
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.25, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.25, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.484, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.484, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.717, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.717, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.95, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.95, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.183, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.183, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.424, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.424, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 25.589
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 25.589
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.589, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.589, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 25.589, "duration": 93.64285714285715, "isPlaying": false}
 LOG  🎵 一時停止位置から再開: 25.589
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 25.589, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": true}
 LOG  🎤 一時停止からの再開: 音声再ロードをスキップ
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.589, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.589, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  再生位置設定: 25.589
 LOG  🎤 TTS再生位置設定: 25.589
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.589, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.589, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.17ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 20.174540996551514}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "5.28ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 5.276084005832672}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.782, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.782, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.015, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.015, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.247, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.247, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.482, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.482, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.715, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.715, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.948, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.948, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 27.181, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 27.181, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 9
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 27.412, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 27.412, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 27.646, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 27.646, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 27.88, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 27.88, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.113, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.113, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.345, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.345, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.578, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.578, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.812, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.812, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.044, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.044, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.278, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.278, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.511, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.511, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.743, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.743, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.977, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.977, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 30.21, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 30.21, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 10
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 30.441, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 30.441, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 30.675, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 30.675, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 30.908, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 30.908, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.142, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.142, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.375, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.375, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.607, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.607, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.84, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.84, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.073, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.073, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.307, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.307, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.54, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.54, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.773, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.773, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.005, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.005, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 11
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.238, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.238, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.472, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.472, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.705, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.705, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.938, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.938, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.17, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.17, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.404, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.404, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.636, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.636, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.87, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.87, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.102, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.102, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.335, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.335, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.568, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.568, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.801, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.801, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.034, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.034, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 12
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.266, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.266, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.5, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.5, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.733, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.733, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.966, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.966, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 37.199, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 37.199, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 37.432, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 37.432, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 37.665, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 37.665, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 37.898, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 37.898, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.131, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.131, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.364, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.364, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.596, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.596, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 handleAudioSeek開始: {"audioPlayState": "playing", "hasTTSAudioPlayer": true, "hasTTSAudioUrl": true, "isTTSPlaying": true, "seconds": 10}
 LOG  🎵 シーク前の状態: {"currentPosition": 38.596, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🎵 10秒進むボタン押下
 LOG  🎤 seekForward開始: {"currentPosition": 38.596, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🎤 10秒進む:  38.596 → 48.596
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.704, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.704, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  再生位置設定: 48.596
 LOG  🎤 TTS再生位置設定: 48.596
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.596, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.596, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS 10秒進む完了
 LOG  🎵 シーク後の状態: {"currentPosition": 48.596, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.596, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.596, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.827, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.827, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.22ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 21.215415984392166}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.54ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 13.53958398103714}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.06, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.06, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.293, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.293, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.527, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.527, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 handleAudioSeek開始: {"audioPlayState": "playing", "hasTTSAudioPlayer": true, "hasTTSAudioUrl": true, "isTTSPlaying": true, "seconds": 10}
 LOG  🎵 シーク前の状態: {"currentPosition": 49.527, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🎵 10秒進むボタン押下
 LOG  🎤 seekForward開始: {"currentPosition": 49.527, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🎤 10秒進む:  49.527 → 59.527
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.759, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.759, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  再生位置設定: 59.527
 LOG  🎤 TTS再生位置設定: 59.527
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.527, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.527, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS 10秒進む完了
 LOG  🎵 シーク後の状態: {"currentPosition": 59.527, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.527, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.527, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.63, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.63, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "32.92ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 32.922167003154755}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.42ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 16.41849997639656}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.862, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.862, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.095, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.095, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.329, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.329, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.562, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.562, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.769, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.769, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 handleAudioSeek開始: {"audioPlayState": "playing", "hasTTSAudioPlayer": true, "hasTTSAudioUrl": true, "isTTSPlaying": true, "seconds": 10}
 LOG  🎵 シーク前の状態: {"currentPosition": 60.769, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🎵 10秒進むボタン押下
 LOG  🎤 seekForward開始: {"currentPosition": 60.769, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🎤 10秒進む:  60.769 → 70.769
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.937, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.937, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  再生位置設定: 70.769
 LOG  🎤 TTS再生位置設定: 70.769
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 70.769, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 70.769, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS 10秒進む完了
 LOG  🎵 シーク後の状態: {"currentPosition": 70.769, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 再生完了検知: {"currentPosition": 70.769, "duration": 93.64285714285715, "isPlaying": true, "percentage": "75.6%", "threshold": 65.55}
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.36ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 22.362542003393173}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "11.68ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 11.680667012929916}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 93.64285714285715, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.097, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.097, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "24.66ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 24.6644169986248}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "23.31ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 23.30987498164177}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.212, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.212, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.328, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.328, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.445, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.445, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.562, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.562, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.678, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.678, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.795, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.795, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.911, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.911, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.028, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.028, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.145, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.145, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.261, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.261, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.378, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.378, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.494, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.494, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.611, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.611, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.727, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.727, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.844, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.844, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.96, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.96, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.077, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.077, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.193, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.193, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.312, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.312, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 2 → 1
 LOG  🎤 再生速度設定開始: 1
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 1
 LOG  🎵 TTS再生速度設定完了: 1
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 1}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 1}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.378, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.378, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "23.17ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 23.169250011444092}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "11.64ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 11.643707990646362}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.381, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.381, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.498, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.498, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.615, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.615, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.731, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.731, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.848, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.848, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.964, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.964, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.081, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.081, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 1
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.197, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.197, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.314, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.314, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.43, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.43, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.546, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.546, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 1 → 1.5
 LOG  🎤 再生速度設定開始: 1.5
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 1.5
 LOG  🎵 TTS再生速度設定完了: 1.5
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 1.5}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 1.5}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.585, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.585, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.61ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 15.605958014726639}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.73ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 19.7279169857502}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.739, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.739, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.914, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.914, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.09, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.09, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.265, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.265, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.44, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.44, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.617, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.617, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.792, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.792, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 1.5 → 2
 LOG  🎤 再生速度設定開始: 2
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 2
 LOG  🎵 TTS再生速度設定完了: 2
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 2}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 2}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.945, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.945, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.79ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 14.788000017404556}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.75ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 21.750916004180908}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.06, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.06, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.293, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.293, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.527, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.527, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.761, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.761, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.994, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.994, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.227, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.227, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 2
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.459, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.459, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.693, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.693, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 2 → 1
 LOG  🎤 再生速度設定開始: 1
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.927, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.927, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生速度設定完了: 1
 LOG  🎵 TTS再生速度設定完了: 1
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 1}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 1}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.011, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.011, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.16ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 17.164667010307312}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.79ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 12.789541006088257}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.128, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.128, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.245, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.245, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.361, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.361, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.477, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.477, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.595, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.595, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.711, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.711, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.827, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.827, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.943, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.943, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.06, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.06, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.177, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.177, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.293, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.293, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.41, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.41, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.526, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.526, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵 再生速度変更: 1 → 1.5
 LOG  🎤 再生速度設定開始: 1.5
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 1.5
 LOG  🎵 TTS再生速度設定完了: 1.5
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 1.5}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 1.5}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.558, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.558, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.00ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 15.00033301115036}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "11.68ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 11.678458988666534}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.711, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.711, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.886, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.886, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.061, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.061, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 3
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.235, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.235, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.41, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.41, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 1.5 → 2
 LOG  🎤 再生速度設定開始: 2
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 2
 LOG  🎵 TTS再生速度設定完了: 2
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 2}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 2}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.476, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.476, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.42ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 15.41958400607109}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "11.81ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 11.80995899438858}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.709, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.709, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.942, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.942, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.176, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.176, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.409, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.409, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.642, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.642, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.875, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.875, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.108, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.108, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.341, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.341, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.574, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.574, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 handleAudioSeek開始: {"audioPlayState": "playing", "hasTTSAudioPlayer": true, "hasTTSAudioUrl": true, "isTTSPlaying": true, "seconds": 10}
 LOG  🎵 シーク前の状態: {"currentPosition": 11.574, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🎵 10秒進むボタン押下
 LOG  🎤 seekForward開始: {"currentPosition": 11.574, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🎤 10秒進む:  11.574 → 21.573999999999998
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.717, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.717, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.574, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.574, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  再生位置設定: 21.573999999999998
 LOG  🎤 TTS再生位置設定: 21.573999999999998
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.573999999999998, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.573999999999998, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS 10秒進む完了
 LOG  🎵 シーク後の状態: {"currentPosition": 21.573999999999998, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎵 TTS同期ハイライト更新: 7
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.37ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 16.36516699194908}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.04ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 12.04349997639656}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.685, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.685, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.883, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.883, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.116, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.116, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.351, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.351, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 handleAudioSeek開始: {"audioPlayState": "playing", "hasTTSAudioPlayer": true, "hasTTSAudioUrl": true, "isTTSPlaying": true, "seconds": 10}
 LOG  🎵 シーク前の状態: {"currentPosition": 22.351, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🎵 10秒進むボタン押下
 LOG  🎤 seekForward開始: {"currentPosition": 22.351, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🎤 10秒進む:  22.351 → 32.351
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.351, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.351, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  再生位置設定: 32.351
 LOG  🎤 TTS再生位置設定: 32.351
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.351, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.351, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS 10秒進む完了
 LOG  🎵 シーク後の状態: {"currentPosition": 32.351, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎵 TTS同期ハイライト更新: 10
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "25.15ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 25.14962500333786}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.58ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 12.581082999706268}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.465, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.465, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.664, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.664, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.898, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.898, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.131, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.131, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 11
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.335, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.335, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 handleAudioSeek開始: {"audioPlayState": "playing", "hasTTSAudioPlayer": true, "hasTTSAudioUrl": true, "isTTSPlaying": true, "seconds": 10}
 LOG  🎵 シーク前の状態: {"currentPosition": 33.335, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🎵 10秒進むボタン押下
 LOG  🎤 seekForward開始: {"currentPosition": 33.335, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🎤 10秒進む:  33.335 → 43.335
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.5, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.5, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  再生位置設定: 43.335
 LOG  🎤 TTS再生位置設定: 43.335
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 43.335, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 43.335, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS 10秒進む完了
 LOG  🎵 シーク後の状態: {"currentPosition": 43.335, "duration": 93.64285714285715, "isPlaying": true}
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 43.335, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 43.335, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 43.563, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 43.563, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "34.73ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 34.72545799612999}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.70ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 13.696624994277954}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 43.794, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 43.794, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.027, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.027, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.262, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.262, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.495, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.495, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.728, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.728, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.96, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.96, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.194, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.194, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.427, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.427, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.66, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.66, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.893, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.893, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 46.126, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 46.126, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 46.359, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 46.359, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 46.591, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 46.591, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 46.825, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 46.825, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.057, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.057, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.291, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.291, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.524, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.524, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.756, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.756, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.99, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.99, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.223, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.223, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.456, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.456, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.689, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.689, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.922, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.922, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.155, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.155, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.388, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.388, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.621, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.621, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.854, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.854, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 50.087, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 50.087, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 50.32, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 50.32, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 50.552, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 50.552, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 50.786, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 50.786, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.018, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.018, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.252, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.252, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.485, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.485, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.718, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.718, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.951, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.951, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.183, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.183, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.416, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.416, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.65, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.65, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.883, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.883, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 53.116, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 53.116, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 53.349, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 53.349, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 53.581, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 53.581, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 53.814, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 53.814, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.048, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.048, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.281, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.281, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.513, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.513, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.747, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.747, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.979, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.979, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.212, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.212, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.445, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.445, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.678, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.678, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.911, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.911, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 56.144, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 56.144, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 56.376, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 56.376, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 56.609, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 56.609, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 56.843, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 56.843, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 57.075, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 57.075, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 57.309, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 57.309, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 57.542, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 57.542, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 57.775, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 57.775, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.008, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.008, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.241, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.241, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.475, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.475, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.707, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.707, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.94, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.94, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.177, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.177, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.405, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.405, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.639, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.639, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.872, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.872, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.105, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.105, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.338, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.338, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.571, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.571, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.804, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.804, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.036, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.036, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.269, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.269, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.503, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.503, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.736, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.736, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.97, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.97, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.201, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.201, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.434, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.434, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.668, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.668, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.9, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.9, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 63.134, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 63.134, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 63.366, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 63.366, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 63.599, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 63.599, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 63.832, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 63.832, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.065, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.065, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.298, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.298, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.531, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.531, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.764, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.764, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.997, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.997, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 65.23, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 65.23, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 65.463, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 65.463, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生完了検知: {"currentPosition": 65.696, "duration": 93.64285714285715, "isPlaying": true, "percentage": "70.2%", "threshold": 65.55}
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 437, "pathsCount": 1, "title": "ノート2025-06-13"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "42.31ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 2083, "saveTime": 42.30758398771286}, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "savedAt": "2025-06-14T04:24:29.919Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 42.30758398771286}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 93.64285714285715, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.067, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.067, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "31.12ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 31.124207973480225}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.80ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 20.799707978963852}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.182, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.182, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.299, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.299, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.416, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.416, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.533, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.533, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.649, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.649, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.765, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.765, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.882, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.882, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.999, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.999, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.115, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.115, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.235, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.235, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.348, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.348, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.465, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.465, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.581, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.581, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.698, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.698, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.814, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.814, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.931, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.931, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.047, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.047, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.163, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.163, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.28, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.28, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵 再生速度変更: 2 → 1
 LOG  🎤 再生速度設定開始: 1
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 1
 LOG  🎵 TTS再生速度設定完了: 1
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 1}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 1}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.307, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.307, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.50ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 13.502167016267776}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "10.84ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 10.839625000953674}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.345, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.345, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.461, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.461, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.578, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.578, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.695, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.695, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.812, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.812, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.928, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.928, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.045, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.045, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 1
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.16, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.16, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.277, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.277, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.394, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.394, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.511, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.511, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.627, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.627, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.744, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.744, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.86, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.86, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.977, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.977, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.093, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.093, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.209, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.209, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.326, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.326, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 1 → 1.5
 LOG  🎤 再生速度設定開始: 1.5
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 1.5
 LOG  🎵 TTS再生速度設定完了: 1.5
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 1.5}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 1.5}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.493, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.493, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.09ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 16.090415984392166}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.31ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 12.30783399939537}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.494, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.494, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.619, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.619, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.794, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.794, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.97, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.97, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.145, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.145, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.319, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.319, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.494, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.494, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.669, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.669, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.844, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.844, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.018, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.018, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 2
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.195, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.195, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.367, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.367, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.542, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.542, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.717, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.717, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.892, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.892, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.067, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.067, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.241, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.241, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.416, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.416, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.591, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.591, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.766, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.766, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.94, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.94, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/15d8d691-628e-4c94-a4a6-29d770236f67.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 7.994
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 7.994
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.994, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.994, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🔙 画面遷移検出（戻るボタン or スワイプ）
 LOG  🔄 画面遷移時の自動保存開始...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "32.21ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 32.212083995342255}
 LOG  ✅ 画面遷移時の自動保存完了
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "8.51ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 8.510500013828278}
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
| 
| 
| Source path: undefined
| Finding changed files: 0.436ms
| Reading changed files: 4.605ms
| Sorting candidates: 0.29ms
| Generate rules: 0.546ms
| Build stylesheet: 0.001ms
| Potential classes:  645
| Active contexts:  1
| JIT TOTAL: 21.72ms
| 
| 
iOS Bundled 375ms node_modules/expo/AppEntry.js (1 module)
 LOG  🔥 Firebase initialized successfully
 LOG  ✅ Firebase認証永続化: AsyncStorageに明示設定完了
 LOG  📦 @react-native-async-storage/async-storage: 利用可能
 LOG  🔧 Debug mode enabled
 LOG  📱 Project ID: talknote-446306
 LOG  [API] 環境変数からベースURL取得: http://192.168.0.46:8000
 LOG  [WS] 環境変数からWebSocketURL取得: ws://192.168.0.46:8002/api/v1/stt/stream
 LOG  [API] Base URL: http://192.168.0.46:8000/api/v1
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 WARN  [expo-av]: Expo AV has been deprecated and will be removed in SDK 54. Use the `expo-audio` and `expo-video` packages to replace the required functionality.
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🧹 クリーンアップ完了: auth-storage
 LOG  データベース初期化をスキップしています
 LOG  🔍 App.tsx 認証状態: {"authLoading": true, "initialRoute": "WelcomeLogin", "user": "未認証"}
 LOG  🔐 Firebase認証状態変更: 認証済み(WvyMDrjT3BSIKHKsryvKWg3smGq2)
 LOG  🔍 App.tsx 認証状態: {"authLoading": false, "initialRoute": "Dashboard", "user": "認証済み(WvyMDrjT...)"}
 LOG  🔧 AutoSaveProvider: 初期化完了 {"currentNote": "none", "debugMode": true, "globalEnabled": true}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 0, "recordingsSample": [], "recordingsType": "object", "shouldShowEmpty": true}
 LOG  [Dashboard] loadData 開始
 LOG  [Dashboard] データベース初期化中...
 LOG  [Dashboard] refreshing状態変化: false
 LOG  Recordings table created successfully
 LOG  Imports table created successfully
 LOG  Manual notes table created successfully
 LOG  Upload queue table created successfully
 LOG  Photo scans table created successfully
 LOG  Bookmarks table created successfully
 LOG  Database initialized successfully
 LOG  [Dashboard] データベース初期化完了
 LOG  [Dashboard] 録音データ取得中...
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  [Dashboard] 録音データ取得完了: 2 件
 LOG  [Dashboard] loadData 完了
 LOG  [Dashboard] isLoading = false に設定
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🔙 画面遷移検出（戻るボタン or スワイプ）
 LOG  📝 未保存の変更なし - 保存スキップ
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-13"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 1}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: aea8f66a-a020-464f-956d-a150c0cef950 ページ1
 LOG  📌 しおりなし: aea8f66a-a020-464f-956d-a150c0cef950 -> デフォルトページ1
 LOG  📌 しおり状態ロード: aea8f66a-a020-464f-956d-a150c0cef950 なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": null}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": false}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎤 TTS音声未生成 - 生成開始
 LOG  🎤 TTS音声生成開始
 LOG  🎤 テキスト確認: {"hasText": true, "textLength": 437, "textPreview": "自分にとっての成功とは：成功したのかしてないのか良くわからないけど、人生楽しかったなと思って最後を終えることが成功。
そして、僕が望む成功は決して、王道であり、皆が目指す耳にタコができるくらい聞き飽き..."}
 LOG  🎤 TTS API呼び出し開始: {"provider": "google", "textLength": 437}
 LOG  🎤 TTS API呼び出し直前: {"provider": "google", "textLength": 437, "ttsClientExists": true}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 TTS API(JSON)呼び出し開始: {"baseUrl": "http://192.168.0.46:8000", "provider": "elevenlabs", "textLength": 437}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 TTS合成レスポンス(JSON)詳細: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3", "duration": undefined, "provider": undefined}
 LOG  🎤 TTS API呼び出し完了: {"responseExists": true, "responseType": "object"}
 LOG  🎤 generateTTSAudio レスポンス確認: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3", "audioUrlLength": 82, "audioUrlStartsWith": "http://192.168.0.46:8000/api/v1/tts/audio/04843313", "audioUrlType": "string", "duration": undefined, "hasAudioUrl": true, "hasSentences": true, "provider": undefined, "sentencesLength": 13}
 LOG  ✅ 音声URL検証完了: {"isValidUrl": true, "url": "http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3"}
 LOG  🎤 TTSリソース解放
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 TTS音声ロード開始: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3", "sentencesCount": 13, "urlType": "http"}
 LOG  🎤 TTS音声ファイル読み込み完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3", "duration": 93.64285714285715, "sentencesCount": 13}
 LOG  ✅ TTS音声生成完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3", "duration": undefined, "provider": undefined, "sentenceCount": 13, "textLength": 437}
 LOG  🎤 TTS音声生成完了 - 再生開始
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 93.64285714285715, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.07, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.07, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.78ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 14.77562502026558}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.24ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 16.23708400130272}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.186, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.186, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.303, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.303, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.42, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.42, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.536, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.536, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.653, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.653, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.77, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.77, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.886, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.886, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.002, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.002, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.119, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.119, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.235, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.235, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.352, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.352, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.468, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.468, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.584, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.584, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.701, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.701, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 1 → 1.5
 LOG  🎤 再生速度設定開始: 1.5
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 1.5
 LOG  🎵 TTS再生速度設定完了: 1.5
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 1.5}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 1.5}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.771, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.771, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.57ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 12.565667003393173}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "10.32ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 10.323917001485825}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.771, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.771, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.853, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.853, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.028, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.028, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.203, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.203, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.378, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.378, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.553, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.553, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.727, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.727, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.903, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.903, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 1.5 → 2
 LOG  🎤 再生速度設定開始: 2
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.077, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.077, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生速度設定完了: 2
 LOG  🎵 TTS再生速度設定完了: 2
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 2}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 2}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎵 TTS同期ハイライト更新: 1
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.168, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.168, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.52ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 16.521500021219254}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "11.90ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 11.896750003099442}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.401, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.401, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.634, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.634, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.868, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.868, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.102, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.102, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.335, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.335, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.567, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.567, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.801, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.801, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.033, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.033, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.267, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.267, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.499, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.499, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.732, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.732, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.966, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.966, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.199, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.199, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 2
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.43, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.43, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.664, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.664, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.897, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.897, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.13, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.13, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.364, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.364, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.596, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.596, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.83, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.83, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.062, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.062, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.295, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.295, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.528, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.528, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.761, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.761, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.994, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.994, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.227, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.227, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 3
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.46, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.46, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.693, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.693, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.926, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.926, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.126, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.126, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.359, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.359, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.592, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.592, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.826, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.826, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.058, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.058, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.291, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.291, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.524, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.524, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.757, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.757, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.991, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.991, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.224, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.224, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 4
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.455, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.455, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.689, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.689, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.923, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.923, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.156, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.156, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.388, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.388, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.621, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.621, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.855, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.855, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.087, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.087, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.32, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.32, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.553, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.553, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.787, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.787, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.019, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.019, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 5
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.252, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.252, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.485, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.485, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.719, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.719, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.952, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.952, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.185, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.185, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.417, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.417, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.651, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.651, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.884, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.884, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.117, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.117, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.35, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.35, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.583, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.583, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.816, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.816, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.049, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.049, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 6
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.28, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.28, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.514, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.514, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.748, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.748, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.981, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.981, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.214, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.214, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.447, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.447, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.68, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.68, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.913, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.913, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.146, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.146, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.379, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.379, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.612, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.612, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.845, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.845, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.078, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.078, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 7
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.31, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.31, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.543, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.543, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.777, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.777, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.01, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.01, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.243, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.243, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.476, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.476, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.709, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.709, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.943, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.943, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.175, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.175, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.408, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.408, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.641, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.641, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.874, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.874, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.107, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.107, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 8
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.338, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.338, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.539, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.539, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.773, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.773, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.006, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.006, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.239, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.239, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.472, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.472, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.705, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.705, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.938, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.938, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.171, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.171, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.404, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.404, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.637, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.637, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.87, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.87, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 27.103, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 27.103, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 9
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 27.334, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 27.334, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 27.568, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 27.568, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 27.802, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 27.802, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.035, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.035, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.268, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.268, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.503, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.503, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.734, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.734, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.967, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.967, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.2, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.2, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.433, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.433, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.666, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.666, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.899, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.899, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 30.132, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 30.132, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 10
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 30.351, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 30.351, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 30.565, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 30.565, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 30.798, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 30.798, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.031, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.031, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.264, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.264, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.497, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.497, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.73, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.73, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.963, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.963, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.196, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.196, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.429, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.429, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.662, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.662, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.895, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.895, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.127, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.127, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎵 TTS同期ハイライト更新: 11
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.361, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.361, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.594, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.594, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.828, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.828, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.059, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.059, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.292, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.292, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.526, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.526, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.759, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.759, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.992, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.992, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.225, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.225, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.458, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.458, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.691, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.691, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.924, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.924, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.157, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.157, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 12
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.389, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.389, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.623, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.623, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.856, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.856, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 37.089, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 37.089, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 37.322, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 37.322, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 37.555, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 37.555, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 37.788, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 37.788, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.021, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.021, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.254, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.254, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.487, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.487, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.72, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.72, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.953, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.953, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 39.186, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 39.186, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 39.419, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 39.419, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 39.652, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 39.652, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 39.885, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 39.885, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 40.118, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 40.118, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 40.351, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 40.351, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 40.584, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 40.584, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 40.817, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 40.817, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 41.05, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 41.05, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 41.283, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 41.283, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 41.516, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 41.516, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 41.75, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 41.75, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 41.982, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 41.982, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 42.215, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 42.215, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 42.447, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 42.447, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 42.681, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 42.681, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 42.914, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 42.914, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 43.147, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 43.147, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 43.38, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 43.38, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 43.613, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 43.613, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 43.846, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 43.846, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.079, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.079, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.312, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.312, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.545, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.545, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.778, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.778, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.011, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.011, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.244, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.244, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.477, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.477, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.71, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.71, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.943, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.943, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 46.176, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 46.176, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 46.409, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 46.409, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 46.642, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 46.642, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 46.875, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 46.875, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.108, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.108, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.341, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.341, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.574, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.574, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.806, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.806, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.04, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.04, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.273, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.273, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.506, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.506, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.739, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.739, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.972, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.972, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.205, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.205, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.438, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.438, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.671, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.671, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.904, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.904, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 50.137, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 50.137, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 50.37, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 50.37, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 50.603, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 50.603, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 50.836, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 50.836, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.068, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.068, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.302, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.302, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.534, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.534, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.768, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.768, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.003, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.003, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.234, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.234, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.467, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.467, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.7, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.7, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.933, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.933, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 53.166, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 53.166, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 53.398, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 53.398, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 53.632, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 53.632, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 53.865, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 53.865, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.098, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.098, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.33, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.33, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.563, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.563, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.797, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.797, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.03, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.03, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.263, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.263, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.496, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.496, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.728, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.728, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.962, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.962, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 56.195, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 56.195, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 56.428, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 56.428, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 56.661, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 56.661, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 56.894, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 56.894, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 57.126, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 57.126, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 57.36, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 57.36, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 57.593, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 57.593, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 57.826, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 57.826, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.059, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.059, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.292, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.292, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.523, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.523, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.758, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.758, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.991, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.991, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.224, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.224, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.457, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.457, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.69, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.69, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.923, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.923, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.156, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.156, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.389, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.389, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.622, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.622, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.855, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.855, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.088, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.088, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.321, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.321, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.554, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.554, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.787, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.787, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.02, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.02, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.253, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.253, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.486, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.486, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.719, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.719, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.952, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.952, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 63.185, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 63.185, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 63.418, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 63.418, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 63.651, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 63.651, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 63.884, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 63.884, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.117, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.117, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.35, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.35, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.583, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.583, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.816, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.816, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 65.049, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 65.049, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 65.282, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 65.282, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 65.515, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 65.515, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生完了検知: {"currentPosition": 65.749, "duration": 93.64285714285715, "isPlaying": true, "percentage": "70.2%", "threshold": 65.55}
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 437, "pathsCount": 1, "title": "ノート2025-06-13"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "37.18ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 2083, "saveTime": 37.18166598677635}, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "savedAt": "2025-06-14T04:34:39.075Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 37.18166598677635}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 93.64285714285715, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 再生速度復元: 2
 LOG  🎤 再生速度設定開始: 2
 LOG  🎤 再生速度設定完了: 2
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 437, "pathsCount": 1, "title": "ノート2025-06-13"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "43.61ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 2083, "saveTime": 43.60912501811981}, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "savedAt": "2025-06-14T04:34:48.149Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 43.60912501811981}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "36.24ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 36.23633298277855}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "28.72ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 28.724083989858627}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 0
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 0
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 93.64285714285715, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 再生速度復元: 2
 LOG  🎤 再生速度設定開始: 2
 LOG  🎤 再生速度設定完了: 2
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.33ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 22.330749988555908}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.43ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 12.429208993911743}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 再生速度変更: 2 → 1
 LOG  🎤 再生速度設定開始: 1
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 1
 LOG  🎵 TTS再生速度設定完了: 1
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 1}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 1}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.117, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.117, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.80ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 22.795209020376205}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.77ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 15.76791599392891}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.232, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.232, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.349, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.349, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.466, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.466, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.583, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.583, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.699, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.699, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.816, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.816, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.932, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.932, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.048, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.048, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.165, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.165, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.284, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.284, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 1 → 1.5
 LOG  🎤 再生速度設定開始: 1.5
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 1.5
 LOG  🎵 TTS再生速度設定完了: 1.5
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 1.5}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 1.5}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.382, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.382, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.12ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 21.118333011865616}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.46ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 17.456499993801117}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.497, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.497, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.614, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.614, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.731, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.731, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.847, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.847, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.964, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.964, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.08, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.08, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.197, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.197, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.313, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.313, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.43, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.43, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.546, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.546, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.663, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.663, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.779, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.779, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 1.5 → 2
 LOG  🎤 再生速度設定開始: 2
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度設定完了: 2
 LOG  🎵 TTS再生速度設定完了: 2
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 2}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 2}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.895, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.895, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.95ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 14.951041996479034}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "11.76ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 11.758083999156952}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.011, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.011, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 1
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.128, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.128, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.245, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.245, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.362, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.362, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.478, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.478, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.595, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.595, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.711, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.711, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/04843313-2c24-4adf-900f-2c7ca99e6e1f.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 3.798
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 3.798
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.798, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.798, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🔙 画面遷移検出（戻るボタン or スワイプ）
 LOG  🔄 画面遷移時の自動保存開始...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "7.60ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 7.601417005062103}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "31.49ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 31.48779198527336}
 LOG  ✅ 画面遷移時の自動保存完了
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
た"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
た"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 19, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 20, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.44ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 19, "noteType": "manual", "pathsCount": 0, "saveTime": 20.437292009592056}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 20, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.77ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 20, "noteType": "manual", "pathsCount": 0, "saveTime": 15.774208009243011}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
ち"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
ち"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
つ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
つ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 20, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 20, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.11ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 20, "noteType": "manual", "pathsCount": 0, "saveTime": 18.110000014305115}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 20, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.97ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 20, "noteType": "manual", "pathsCount": 0, "saveTime": 14.96679100394249}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
て"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
て"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
てさ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
てさ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 20, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 21, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.39ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 20, "noteType": "manual", "pathsCount": 0, "saveTime": 22.389916002750397}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 21, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.40ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 21, "noteType": "manual", "pathsCount": 0, "saveTime": 19.39554199576378}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
てし"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
てし"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
てす"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
てす"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 21, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 21, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.73ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 21, "noteType": "manual", "pathsCount": 0, "saveTime": 20.734333008527756}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 21, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.57ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 21, "noteType": "manual", "pathsCount": 0, "saveTime": 22.56879198551178}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テスト"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テスト"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テスト"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テスト"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストた"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストた"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 22, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 23, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.82ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 22, "noteType": "manual", "pathsCount": 0, "saveTime": 19.822207987308502}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 23, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.72ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 23, "noteType": "manual", "pathsCount": 0, "saveTime": 20.722333997488022}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだた"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだた"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 23, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 24, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.10ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 23, "noteType": "manual", "pathsCount": 0, "saveTime": 20.100416988134384}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 24, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.64ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 24, "noteType": "manual", "pathsCount": 0, "saveTime": 16.635666012763977}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだち"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだち"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだつ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだつ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 24, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 24, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.57ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 24, "noteType": "manual", "pathsCount": 0, "saveTime": 20.56954202055931}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 24, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.21ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 24, "noteType": "manual", "pathsCount": 0, "saveTime": 17.2136669754982}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだて"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだて"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだと"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだと"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 24, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 24, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "29.53ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 24, "noteType": "manual", "pathsCount": 0, "saveTime": 29.529500007629395}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 24, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.10ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 24, "noteType": "manual", "pathsCount": 0, "saveTime": 15.104125022888184}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだっ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだっ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだっ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだっ"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだっ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだっ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだった"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだった"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 24, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 25, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.14ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 24, "noteType": "manual", "pathsCount": 0, "saveTime": 22.14291599392891}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 25, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "24.05ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 25, "noteType": "manual", "pathsCount": 0, "saveTime": 24.05450001358986}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだっち"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだっち"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだっつ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだっつ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 25, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 25, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.60ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 25, "noteType": "manual", "pathsCount": 0, "saveTime": 20.603082984685898}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 25, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.19ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 25, "noteType": "manual", "pathsCount": 0, "saveTime": 16.189916998147964}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 即座保存実行 {"toolbarFunction": "text_input"}
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだってい"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだってい"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 25, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 26, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.00ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 25, "noteType": "manual", "pathsCount": 0, "saveTime": 21.002582997083664}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 26, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.47ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 26, "noteType": "manual", "pathsCount": 0, "saveTime": 18.471666991710663}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだっていう"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだっていう"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言う"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言う"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言う"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言う"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 27, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 27, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.19ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 27, "noteType": "manual", "pathsCount": 0, "saveTime": 18.19183400273323}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 27, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.33ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 27, "noteType": "manual", "pathsCount": 0, "saveTime": 15.33466699719429}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うた"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うた"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うち"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うち"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 28, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 28, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "28.61ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 28, "noteType": "manual", "pathsCount": 0, "saveTime": 28.60741698741913}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 28, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.38ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 28, "noteType": "manual", "pathsCount": 0, "saveTime": 15.380667001008987}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うつ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うつ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うて"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うて"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 28, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 28, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.81ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 28, "noteType": "manual", "pathsCount": 0, "saveTime": 19.813499987125397}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 28, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.57ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 28, "noteType": "manual", "pathsCount": 0, "saveTime": 22.57329100370407}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてわ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてわ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてを"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてを"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 29, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 29, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.25ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 29, "noteType": "manual", "pathsCount": 0, "saveTime": 20.251583009958267}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 29, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.70ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 29, "noteType": "manual", "pathsCount": 0, "saveTime": 15.700417011976242}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてを"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてを"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてを"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてを"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてをた"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてをた"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 29, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 30, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.38ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 29, "noteType": "manual", "pathsCount": 0, "saveTime": 14.37975001335144}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 30, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "10.45ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 30, "noteType": "manual", "pathsCount": 0, "saveTime": 10.451624989509583}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてを"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてを"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてを"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてを"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うて"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うて"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 29, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 28, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.06ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 29, "noteType": "manual", "pathsCount": 0, "saveTime": 15.061542004346848}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 28, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "11.26ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 28, "noteType": "manual", "pathsCount": 0, "saveTime": 11.26137501001358}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてわ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてわ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてを"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてを"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 29, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 29, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.81ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 29, "noteType": "manual", "pathsCount": 0, "saveTime": 17.808542013168335}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 29, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.89ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 29, "noteType": "manual", "pathsCount": 0, "saveTime": 14.890332996845245}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてん"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてん"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんた"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんた"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 29, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 30, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.28ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 29, "noteType": "manual", "pathsCount": 0, "saveTime": 22.28208300471306}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 30, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "24.23ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 30, "noteType": "manual", "pathsCount": 0, "saveTime": 24.231290996074677}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだら"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだら"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 30, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 31, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.50ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 30, "noteType": "manual", "pathsCount": 0, "saveTime": 21.503457993268967}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 31, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.63ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 31, "noteType": "manual", "pathsCount": 0, "saveTime": 18.626332998275757}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだり"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだり"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだる"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだる"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 31, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 31, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.68ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 31, "noteType": "manual", "pathsCount": 0, "saveTime": 21.68070900440216}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 31, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.43ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 31, "noteType": "manual", "pathsCount": 0, "saveTime": 17.42679199576378}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだれ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだれ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 31, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 31, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "29.42ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 31, "noteType": "manual", "pathsCount": 0, "saveTime": 29.418958008289337}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 31, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.81ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 31, "noteType": "manual", "pathsCount": 0, "saveTime": 15.811040997505188}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろう"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろう"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうか"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうか"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 32, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 33, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.36ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 32, "noteType": "manual", "pathsCount": 0, "saveTime": 21.356334000825882}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 33, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.43ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 33, "noteType": "manual", "pathsCount": 0, "saveTime": 16.429208010435104}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが、"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが、"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 33, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 34, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.15ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 33, "noteType": "manual", "pathsCount": 0, "saveTime": 20.15158298611641}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 34, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.09ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 34, "noteType": "manual", "pathsCount": 0, "saveTime": 16.094709008932114}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが。"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが。"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが？"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが？"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 34, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 34, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.24ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 34, "noteType": "manual", "pathsCount": 0, "saveTime": 19.235874980688095}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 34, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.17ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 34, "noteType": "manual", "pathsCount": 0, "saveTime": 15.169833987951279}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 即座保存実行 {"toolbarFunction": "text_input"}
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 34, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 35, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "23.54ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 34, "noteType": "manual", "pathsCount": 0, "saveTime": 23.544167011976242}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 35, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.83ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 35, "noteType": "manual", "pathsCount": 0, "saveTime": 19.82729199528694}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
か"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
か"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
き"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
き"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 36, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 36, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.10ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 36, "noteType": "manual", "pathsCount": 0, "saveTime": 20.101291000843048}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 36, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.90ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 36, "noteType": "manual", "pathsCount": 0, "saveTime": 18.902041018009186}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
く"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
く"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
くさ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
くさ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 36, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 37, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.96ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 36, "noteType": "manual", "pathsCount": 0, "saveTime": 19.959125012159348}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 37, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.81ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 37, "noteType": "manual", "pathsCount": 0, "saveTime": 15.806499987840652}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
くし"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
くし"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
くす"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
くす"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 37, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 37, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.14ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 37, "noteType": "manual", "pathsCount": 0, "saveTime": 20.14350000023842}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 37, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.00ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 37, "noteType": "manual", "pathsCount": 0, "saveTime": 16.002582997083664}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
くせ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
くせ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
くそ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
くそ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 37, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 37, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "26.93ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 37, "noteType": "manual", "pathsCount": 0, "saveTime": 26.934415996074677}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 37, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.05ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 37, "noteType": "manual", "pathsCount": 0, "saveTime": 16.046875}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
くそか"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
くそか"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 38, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 38, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.99ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 38, "noteType": "manual", "pathsCount": 0, "saveTime": 18.987542003393173}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 38, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.26ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 38, "noteType": "manual", "pathsCount": 0, "saveTime": 15.259375005960464}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが、"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが、"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが。"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが。"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 39, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 39, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "25.68ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 39, "noteType": "manual", "pathsCount": 0, "saveTime": 25.6800419986248}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 39, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.12ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 39, "noteType": "manual", "pathsCount": 0, "saveTime": 15.119791984558105}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが？"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが？"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 39, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 39, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.44ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 39, "noteType": "manual", "pathsCount": 0, "saveTime": 21.440541982650757}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 39, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.09ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 39, "noteType": "manual", "pathsCount": 0, "saveTime": 17.091583997011185}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！な"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！な"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 39, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 40, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.91ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 39, "noteType": "manual", "pathsCount": 0, "saveTime": 12.910082995891571}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 40, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "9.76ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 40, "noteType": "manual", "pathsCount": 0, "saveTime": 9.762791991233826}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！なか"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！なか"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村君"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村君"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村君"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村君"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 41, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 42, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.51ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 41, "noteType": "manual", "pathsCount": 0, "saveTime": 17.510917007923126}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 42, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.94ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 42, "noteType": "manual", "pathsCount": 0, "saveTime": 14.943792015314102}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村、"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村、"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 41, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 42, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "26.26ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 41, "noteType": "manual", "pathsCount": 0, "saveTime": 26.26195901632309}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 42, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.83ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 42, "noteType": "manual", "pathsCount": 0, "saveTime": 15.828083008527756}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村。"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村。"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村？"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村？"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 42, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 42, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.45ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 42, "noteType": "manual", "pathsCount": 0, "saveTime": 21.453250020742416}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 42, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.12ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 42, "noteType": "manual", "pathsCount": 0, "saveTime": 18.121374994516373}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！か"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！か"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 42, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 43, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.91ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 42, "noteType": "manual", "pathsCount": 0, "saveTime": 18.90658301115036}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 43, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.67ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 43, "noteType": "manual", "pathsCount": 0, "saveTime": 15.66762501001358}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かな"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かな"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かに"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かに"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 44, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 44, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.90ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 44, "noteType": "manual", "pathsCount": 0, "saveTime": 19.896874994039536}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 44, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.34ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 44, "noteType": "manual", "pathsCount": 0, "saveTime": 15.342707991600037}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かぬ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かぬ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かね"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かね"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 44, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 44, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "28.98ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 44, "noteType": "manual", "pathsCount": 0, "saveTime": 28.984416991472244}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 44, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.36ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 44, "noteType": "manual", "pathsCount": 0, "saveTime": 16.359167009592056}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねか"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねか"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねかえ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねかえ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 45, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 46, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.85ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 45, "noteType": "manual", "pathsCount": 0, "saveTime": 20.84670799970627}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 46, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.70ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 46, "noteType": "manual", "pathsCount": 0, "saveTime": 16.704791992902756}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねかえさ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねかえさ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねかえし"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねかえし"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 47, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 47, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.37ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 47, "noteType": "manual", "pathsCount": 0, "saveTime": 21.372583001852036}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 47, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.92ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 47, "noteType": "manual", "pathsCount": 0, "saveTime": 16.91695898771286}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねかえす"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねかえす"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねかえせ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねかえせ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 47, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 47, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "27.49ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 47, "noteType": "manual", "pathsCount": 0, "saveTime": 27.493957996368408}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 47, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.68ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 47, "noteType": "manual", "pathsCount": 0, "saveTime": 15.677291989326477}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねかえせや"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！かねかえせや"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せや"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せや"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せや"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せや"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 48, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 46, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.84ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 48, "noteType": "manual", "pathsCount": 0, "saveTime": 17.8372919857502}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 46, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.63ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 46, "noteType": "manual", "pathsCount": 0, "saveTime": 14.62516701221466}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやか"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやか"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやかさ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやかさ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 47, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 48, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.92ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 47, "noteType": "manual", "pathsCount": 0, "saveTime": 20.918874979019165}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 48, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.49ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 48, "noteType": "manual", "pathsCount": 0, "saveTime": 16.48862498998642}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやかし"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやかし"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやかす"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやかす"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 48, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 48, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "28.19ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 48, "noteType": "manual", "pathsCount": 0, "saveTime": 28.19045799970627}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 48, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.45ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 48, "noteType": "manual", "pathsCount": 0, "saveTime": 19.448083996772766}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
| 
| 
| Source path: undefined
| Finding changed files: 0.491ms
| Reading changed files: 4.253ms
| Sorting candidates: 0.328ms
| Generate rules: 0.467ms
| Build stylesheet: 0.001ms
| Potential classes:  639
| Active contexts:  1
| JIT TOTAL: 23.001ms
| 
| 
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス、"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス、"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 48, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 49, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.79ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 48, "noteType": "manual", "pathsCount": 0, "saveTime": 19.791959017515182}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 49, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.25ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 49, "noteType": "manual", "pathsCount": 0, "saveTime": 16.24870800971985}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス。"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス。"}, "toolbarFunction": "text_input"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス？"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス？"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 49, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 49, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.94ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 49, "noteType": "manual", "pathsCount": 0, "saveTime": 20.938625007867813}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 49, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "17.19ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 49, "noteType": "manual", "pathsCount": 0, "saveTime": 17.194582998752594}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 即座保存実行 {"toolbarFunction": "text_input"}
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 49, "pathsCount": 0, "title": "ノート2025-06-14"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 49, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 49, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "51.87ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 913, "saveTime": 51.86995801329613}, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "savedAt": "2025-06-14T04:35:46.402Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 49, "noteType": "manual", "pathsCount": 0, "saveTime": 51.86995801329613}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.06ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 49, "noteType": "manual", "pathsCount": 0, "saveTime": 19.063125014305115}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 49, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.70ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 49, "noteType": "manual", "pathsCount": 0, "saveTime": 13.697667002677917}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！
"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！
"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！

"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！

"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 50, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 51, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "28.47ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 50, "noteType": "manual", "pathsCount": 0, "saveTime": 28.465249985456467}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 51, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.73ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 51, "noteType": "manual", "pathsCount": 0, "saveTime": 16.72824999690056}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！
"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！
"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 50, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 49, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.48ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 50, "noteType": "manual", "pathsCount": 0, "saveTime": 18.484999984502792}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 49, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.25ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 49, "noteType": "manual", "pathsCount": 0, "saveTime": 15.246958017349243}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！か"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！か"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 50, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 49, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.34ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 50, "noteType": "manual", "pathsCount": 0, "saveTime": 22.34145900607109}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 49, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.04ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 49, "noteType": "manual", "pathsCount": 0, "saveTime": 18.04195800423622}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！は"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！は"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ひ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ひ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 50, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 50, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.60ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 50, "noteType": "manual", "pathsCount": 0, "saveTime": 21.600167006254196}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 50, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "24.44ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 50, "noteType": "manual", "pathsCount": 0, "saveTime": 24.441040992736816}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ふ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ふ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！へ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！へ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 50, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 50, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.51ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 50, "noteType": "manual", "pathsCount": 0, "saveTime": 20.507707983255386}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 50, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.62ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 50, "noteType": "manual", "pathsCount": 0, "saveTime": 16.62049999833107}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ほ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ほ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ぼ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ぼ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 50, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 50, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "27.95ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 50, "noteType": "manual", "pathsCount": 0, "saveTime": 27.94995802640915}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 50, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.47ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 50, "noteType": "manual", "pathsCount": 0, "saveTime": 16.471416980028152}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ぼか"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ぼか"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ぼき"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ぼき"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 51, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 51, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.98ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 51, "noteType": "manual", "pathsCount": 0, "saveTime": 20.982874989509583}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 51, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.51ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 51, "noteType": "manual", "pathsCount": 0, "saveTime": 16.512041002511978}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ぼく"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ぼく"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ぼけ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ぼけ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 51, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 51, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.33ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 51, "noteType": "manual", "pathsCount": 0, "saveTime": 19.329541981220245}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 51, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.70ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 51, "noteType": "manual", "pathsCount": 0, "saveTime": 14.700125008821487}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケ"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケか"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケか"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 51, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 52, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.45ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 51, "noteType": "manual", "pathsCount": 0, "saveTime": 21.446374982595444}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 52, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "15.54ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 52, "noteType": "manual", "pathsCount": 0, "saveTime": 15.537333995103836}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケかさ"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケかさ"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケかし"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケかし"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 53, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 53, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "26.48ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 53, "noteType": "manual", "pathsCount": 0, "saveTime": 26.48329198360443}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 53, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.88ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 53, "noteType": "manual", "pathsCount": 0, "saveTime": 21.883459001779556}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケかす"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケかす"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケかすか"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケかすか"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 53, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 54, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "20.31ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 53, "noteType": "manual", "pathsCount": 0, "saveTime": 20.311583012342453}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 54, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.51ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 54, "noteType": "manual", "pathsCount": 0, "saveTime": 16.514250010252}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケかすが"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケかすが"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 54, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 54, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "19.96ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 54, "noteType": "manual", "pathsCount": 0, "saveTime": 19.96033400297165}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 54, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.20ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 54, "noteType": "manual", "pathsCount": 0, "saveTime": 16.201665997505188}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが、"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが、"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが。"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが。"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "22.68ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 55, "noteType": "manual", "pathsCount": 0, "saveTime": 22.676416993141174}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "24.68ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 55, "noteType": "manual", "pathsCount": 0, "saveTime": 24.682958990335464}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが？"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが？"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが！"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "23.05ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 55, "noteType": "manual", "pathsCount": 0, "saveTime": 23.051624983549118}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "18.50ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 55, "noteType": "manual", "pathsCount": 0, "saveTime": 18.495832979679108}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
| 
| 
| Source path: undefined
| Finding changed files: 0.354ms
| Reading changed files: 4.519ms
| Sorting candidates: 0.287ms
| Generate rules: 0.492ms
| Build stylesheet: 0.001ms
| Potential classes:  642
| Active contexts:  1
| JIT TOTAL: 22.927ms
| 
| 
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが！"}, "toolbarFunction": "text_input"}
 LOG  🏷️ 変更フラグ設定: {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが！"}, "hasUnsavedChanges": true, "toolbarFunction": "text_input"}
 LOG  🎤 テキスト変更検知 - TTS音声再生成をスケジュール
 LOG  🚀 統一自動保存Hook実行: text_input
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"newContent": "これはテストです。
音声テストです。
テストだって言うてんだろうが！
クソが！中村！金返せやカス！ボケカスが！"}, "toolbarFunction": "text_input"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.57ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 55, "noteType": "manual", "pathsCount": 0, "saveTime": 13.568208009004593}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "34.27ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 55, "noteType": "manual", "pathsCount": 0, "saveTime": 34.26570901274681}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": true, "isSaving": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🔙 画面遷移検出（戻るボタン or スワイプ）
 LOG  🔄 画面遷移時の自動保存開始...
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": true, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "route_params": {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "noteType": "manual", "title": "ノート2025-06-14"}
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "54.68ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 55, "noteType": "manual", "pathsCount": 0, "saveTime": 54.677584022283554}
 LOG  ✅ 画面遷移時の自動保存完了
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "31.68ms", "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 55, "noteType": "manual", "pathsCount": 0, "saveTime": 31.67587497830391}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": "pen", "selectedTool": "pen", "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
| 
| 
| Source path: undefined
| Finding changed files: 0.419ms
| Reading changed files: 4.695ms
| Sorting candidates: 0.415ms
| Generate rules: 0.652ms
| Build stylesheet: 0.001ms
| Potential classes:  647
| Active contexts:  1
| JIT TOTAL: 21.513ms
| 
| 
| 
| 
| Source path: undefined
| Finding changed files: 0.391ms
| Reading changed files: 4.061ms
| Sorting candidates: 0.308ms
| Generate rules: 0.518ms
| Build stylesheet: 0.001ms
| Potential classes:  648
| Active contexts:  1
| JIT TOTAL: 21.372ms
| 
| 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 55, "hasUnsavedChanges": false, "isSaving": false, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "pathsCount": 0}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 保存スキップ: 未変更 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-14"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 0}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": "pen", "selectedTool": "pen", "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "dyslexia", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f ページ1
 LOG  📌 しおりなし: d3987477-0305-4fb2-b5e4-3f277275e73f -> デフォルトページ1
 LOG  📌 しおり状態ロード: d3987477-0305-4fb2-b5e4-3f277275e73f なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "recordingState": "idle", "routeParamsNoteId": "d3987477-0305-4fb2-b5e4-3f277275e73f", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0.5, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🔙 画面遷移検出（戻るボタン or スワイプ）
 LOG  📝 未保存の変更なし - 保存スキップ
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-13"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 1}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: aea8f66a-a020-464f-956d-a150c0cef950 ページ1
 LOG  📌 しおりなし: aea8f66a-a020-464f-956d-a150c0cef950 -> デフォルトページ1
 LOG  📌 しおり状態ロード: aea8f66a-a020-464f-956d-a150c0cef950 なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🏷️ 変更フラグ設定: {"data": undefined, "hasUnsavedChanges": true, "toolbarFunction": undefined}
 LOG  🚀 デフォルト保存実行: manual_save
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": undefined, "toolbarFunction": "manual_save"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🔙 画面遷移検出（戻るボタン or スワイプ）
 LOG  🔄 画面遷移時の自動保存開始...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  [getAllNotes] 取得したノート数（全4ノートタイプ統合）: 2
 LOG  [Dashboard] FlatList render debug: {"isArray": true, "recordingsLength": 2, "recordingsSample": [{"id": "d3987477-0305-4fb2-b5e4-3f277275e73f", "title": "ノート2025-06-14", "type": "object"}, {"id": "aea8f66a-a020-464f-956d-a150c0cef950", "title": "ノート2025-06-13", "type": "object"}], "recordingsType": "object", "shouldShowEmpty": false}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "45.87ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 45.86512500047684}
 LOG  ✅ 画面遷移時の自動保存完了
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "30.94ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 30.93816700577736}
 LOG  🔍 Firebase Debug Info: {"configProjectId": "talknote-446306", "email": "shanzhongliangping841@gmail.com", "isAuthenticated": true, "persistenceMode": "Firebase AsyncStorage Only", "userId": "WvyMDrjT3BSIKHKsryvKWg3smGq2"}
 LOG  🔐 AuthGuard: 初期化完了 {"isLoading": false, "user": "認証済み"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎤 setOnStateChange コールバック登録完了
 LOG  🎤 setOnPlaybackComplete コールバック登録完了
 LOG  [ENV] API URL: http://192.168.0.46:8000
 LOG  🎤 TTSClient初期化: {"baseUrl": "http://192.168.0.46:8000"}
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🔧 AutoSaveDecorator: UniversalNoteService初期化完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 ノートデータ構造確認: {"contentType": "undefined", "filePath": "", "hasContent": false, "hasTranscription": true, "noteKeys": ["id", "title", "duration", "file_path", "created_at", "uploaded", "media_id", "transcription"], "title": "ノート2025-06-13"}
 LOG  🎤 録音データからの復元処理
 LOG  ✅ 録音データのキャンバス復元完了: {"pathsCount": 1}
 LOG  🔍🔍🔍 録音設定データ詳細: {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": "keyboard", "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}}
 LOG  🔍🔍🔍 録音 textSettings詳細: {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}
 LOG  📏 録音 フォントサイズ復元: {"前": 16, "復元値": 16}
 LOG  💪 録音 太字設定復元: {"前": false, "復元値": false}
 LOG  ✅ 録音キャンバス設定復元完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  📌 しおりなし: aea8f66a-a020-464f-956d-a150c0cef950 ページ1
 LOG  📌 しおりなし: aea8f66a-a020-464f-956d-a150c0cef950 -> デフォルトページ1
 LOG  📌 しおり状態ロード: aea8f66a-a020-464f-956d-a150c0cef950 なし
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": null}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": false}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎤 TTS音声未生成 - 生成開始
 LOG  🎤 TTS音声生成開始
 LOG  🎤 テキスト確認: {"hasText": true, "textLength": 437, "textPreview": "自分にとっての成功とは：成功したのかしてないのか良くわからないけど、人生楽しかったなと思って最後を終えることが成功。
そして、僕が望む成功は決して、王道であり、皆が目指す耳にタコができるくらい聞き飽き..."}
 LOG  🎤 TTS API呼び出し開始: {"provider": "google", "textLength": 437}
 LOG  🎤 TTS API呼び出し直前: {"provider": "google", "textLength": 437, "ttsClientExists": true}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 TTS API(JSON)呼び出し開始: {"baseUrl": "http://192.168.0.46:8000", "provider": "elevenlabs", "textLength": 437}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 TTS合成レスポンス(JSON)詳細: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3", "duration": undefined, "provider": undefined}
 LOG  🎤 TTS API呼び出し完了: {"responseExists": true, "responseType": "object"}
 LOG  🎤 generateTTSAudio レスポンス確認: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3", "audioUrlLength": 82, "audioUrlStartsWith": "http://192.168.0.46:8000/api/v1/tts/audio/24946803", "audioUrlType": "string", "duration": undefined, "hasAudioUrl": true, "hasSentences": true, "provider": undefined, "sentencesLength": 13}
 LOG  ✅ 音声URL検証完了: {"isValidUrl": true, "url": "http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3"}
 LOG  🎤 TTSリソース解放
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 TTS音声ロード開始: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3", "sentencesCount": 13, "urlType": "http"}
 LOG  🎤 TTS音声ファイル読み込み完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3", "duration": 93.64285714285715, "sentencesCount": 13}
 LOG  ✅ TTS音声生成完了: {"audioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3", "duration": undefined, "provider": undefined, "sentenceCount": 13, "textLength": 437}
 LOG  🎤 TTS音声生成完了 - 再生開始
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 93.64285714285715, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.069, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.069, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "21.37ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 21.369625002145767}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.93ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 16.93224999308586}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.185, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.185, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.301, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.301, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.418, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.418, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.535, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.535, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.652, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.652, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.768, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.768, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.885, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.885, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.002, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.002, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.118, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.118, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.234, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.234, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.351, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.351, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.47, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.47, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.583, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.583, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.7, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.7, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.816, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.816, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.934, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.934, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 1 → 1.5
 LOG  🎤 再生速度を保存: 1.5
 LOG  🎤 再生速度適用開始: 1.5
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度適用完了: 1.5
 LOG  🎵 TTS再生速度設定完了: 1.5
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 1.5}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 1.5}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.02, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.02, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "13.55ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 13.546833992004395}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "12.03ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 12.030833005905151}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.02, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.02, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.041, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.041, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.216, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.216, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 再生速度変更: 1.5 → 2
 LOG  🎤 再生速度を保存: 2
 LOG  🎤 再生速度適用開始: 2
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生速度適用完了: 2
 LOG  🎵 TTS再生速度設定完了: 2
 LOG  🏷️ 変更フラグ設定: {"data": {"playbackRate": 2}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playbackRate": 2}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.3, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.3, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.68ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 14.679457992315292}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "11.34ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 11.337958008050919}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.51, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.51, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.743, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.743, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.977, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.977, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.211, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.211, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 1
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.443, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.443, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.676, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.676, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.91, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.91, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.143, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.143, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.377, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.377, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.609, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.609, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.842, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.842, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.075, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.075, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.308, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.308, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.541, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.541, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.773, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.773, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.006, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.006, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 2
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.239, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.239, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.473, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.473, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.706, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.706, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.939, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.939, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.171, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.171, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.404, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.404, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.637, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.637, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 7.87, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 7.87, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.103, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.103, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.336, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.336, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.569, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.569, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 8.802, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 8.802, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.035, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.035, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 3
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.267, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.267, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.502, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.502, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.734, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.734, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 9.967, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 9.967, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.2, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.2, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.433, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.433, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.666, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.666, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 10.899, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 10.899, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.131, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.131, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.364, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.364, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.598, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.598, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 11.831, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 11.831, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.063, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.063, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 4
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.295, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.295, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.529, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.529, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.763, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.763, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 12.996, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 12.996, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.228, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.228, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.462, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.462, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.694, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.694, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 13.927, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 13.927, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.16, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.16, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.393, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.393, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.626, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.626, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 14.859, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 14.859, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.092, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.092, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 5
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.323, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.323, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.558, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.558, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 15.791, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 15.791, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.024, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.024, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.257, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.257, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.49, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.49, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.724, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.724, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 16.956, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 16.956, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.189, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.189, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.422, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.422, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.656, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.656, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 17.888, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 17.888, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.121, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.121, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 6
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.353, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.353, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.587, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.587, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 18.82, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 18.82, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.053, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.053, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.287, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.287, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.519, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.519, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.752, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.752, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 19.985, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 19.985, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.218, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.218, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.452, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.452, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.684, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.684, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 20.917, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 20.917, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.15, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.15, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 7
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.381, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.381, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.616, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.616, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 21.849, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 21.849, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.082, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.082, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.314, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.314, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.547, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.547, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 22.781, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 22.781, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.014, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.014, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.247, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.247, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.479, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.479, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.713, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.713, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 23.945, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 23.945, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.178, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.178, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 8
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.41, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.41, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.611, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.611, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 24.844, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 24.844, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.077, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.077, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.31, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.31, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.543, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.543, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 25.777, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 25.777, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.01, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.01, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.242, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.242, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.475, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.475, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.707, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.707, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 26.941, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 26.941, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 27.174, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 27.174, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 9
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 27.405, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 27.405, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 27.639, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 27.639, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 27.873, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 27.873, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.106, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.106, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.339, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.339, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.572, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.572, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 28.805, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 28.805, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.037, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.037, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.271, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.271, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.504, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.504, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.737, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.737, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 29.97, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 29.97, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 30.203, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 30.203, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 10
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 30.42, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 30.42, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 30.634, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 30.634, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 30.869, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 30.869, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.102, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.102, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.335, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.335, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.568, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.568, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 31.8, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 31.8, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.033, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.033, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.267, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.267, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.499, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.499, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.733, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.733, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 32.973, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 32.973, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.199, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.199, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 11
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.432, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.432, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.665, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.665, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 33.898, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 33.898, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.131, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.131, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.363, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.363, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.597, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.597, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 34.83, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 34.83, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.063, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.063, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.296, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.296, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.528, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.528, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.761, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.761, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 35.994, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 35.994, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.227, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.227, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 12
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.459, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.459, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.693, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.693, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 36.926, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 36.926, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 37.159, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 37.159, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 37.392, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 37.392, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 37.625, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 37.625, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 37.857, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 37.857, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.091, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.091, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.324, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.324, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.524, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.524, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.757, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.757, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 38.99, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 38.99, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 39.223, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 39.223, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 39.456, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 39.456, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 39.689, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 39.689, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 39.922, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 39.922, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 40.154, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 40.154, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 40.388, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 40.388, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 40.621, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 40.621, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 40.854, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 40.854, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 41.087, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 41.087, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 41.32, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 41.32, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 41.553, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 41.553, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 41.786, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 41.786, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 42.019, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 42.019, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 42.252, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 42.252, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 42.485, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 42.485, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 42.718, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 42.718, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 42.952, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 42.952, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 43.184, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 43.184, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 43.417, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 43.417, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 43.65, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 43.65, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 43.883, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 43.883, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.116, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.116, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.349, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.349, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.582, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.582, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 44.815, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 44.815, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.048, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.048, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.281, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.281, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.513, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.513, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.747, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.747, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 45.98, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 45.98, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 46.213, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 46.213, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 46.446, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 46.446, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 46.679, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 46.679, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 46.911, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 46.911, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.145, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.145, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.378, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.378, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.611, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.611, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 47.844, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 47.844, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.077, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.077, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.31, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.31, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.543, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.543, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 48.776, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 48.776, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.008, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.008, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.242, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.242, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.475, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.475, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.708, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.708, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 49.941, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 49.941, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 50.174, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 50.174, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 50.407, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 50.407, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 50.64, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 50.64, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 50.873, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 50.873, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.106, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.106, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.339, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.339, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.572, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.572, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 51.805, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 51.805, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.038, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.038, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.271, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.271, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.504, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.504, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.737, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.737, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 52.97, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 52.97, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 53.203, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 53.203, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 53.435, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 53.435, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 53.669, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 53.669, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 53.902, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 53.902, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.135, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.135, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.368, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.368, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.601, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.601, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 54.833, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 54.833, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.067, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.067, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.3, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.3, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.533, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.533, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.766, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.766, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 55.999, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 55.999, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 56.232, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 56.232, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 56.465, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 56.465, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 56.698, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 56.698, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 56.931, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 56.931, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 57.164, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 57.164, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 57.397, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 57.397, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 57.63, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 57.63, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 57.863, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 57.863, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.096, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.096, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.329, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.329, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.562, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.562, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 58.795, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 58.795, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.028, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.028, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.261, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.261, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.494, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.494, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.727, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.727, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 59.96, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 59.96, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.193, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.193, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.426, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.426, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.659, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.659, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 60.892, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 60.892, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.125, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.125, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.358, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.358, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.591, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.591, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 61.825, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 61.825, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.057, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.057, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.29, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.29, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.523, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.523, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.756, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.756, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 62.989, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 62.989, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 63.223, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 63.223, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 63.456, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 63.456, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 63.688, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 63.688, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 63.921, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 63.921, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.154, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.154, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.387, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.387, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.621, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.621, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 64.853, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 64.853, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 65.086, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 65.086, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 65.319, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 65.319, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 再生完了検知: {"currentPosition": 65.552, "duration": 93.64285714285715, "isPlaying": true, "percentage": "70.0%", "threshold": 65.55}
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎯 useAutoSave: 定期自動保存実行 
 LOG  🎯 useAutoSave: 統一自動保存開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual"}
 LOG  🎯 useAutoSave: 保存データ構築 {"contentLength": 437, "pathsCount": 1, "title": "ノート2025-06-13"}
 LOG  🎯 useAutoSave: 🚀🚀🚀 UniversalNoteService保存開始 
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行直前 {"canvasSettings": {"selectedColor": "#000000", "selectedPenTool": null, "selectedTool": null, "strokeWidth": 2, "textSettings": {"fontSize": 16, "isBold": false, "letterSpacing": 0, "lineSpacing": 1.2, "selectedFont": "standard", "selectedTextType": "body", "textColor": "#000000"}}, "fontSize": 16, "isBold": false}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "40.53ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  🎯 useAutoSave: 🚀🚀🚀 saveUniversalNote実行完了 {"saveResult": {"metrics": {"dataSize": 2083, "saveTime": 40.529166996479034}, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "savedAt": "2025-06-14T04:38:02.335Z", "success": true}}
 LOG  🎯 useAutoSave: ✅✅✅ 統一自動保存完了 {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 40.529166996479034}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 expo-av 再生完了イベント検知
 LOG  🎤 再生完了検知 - 自動リセット開始
 LOG  🎤 状態リセット完了 - seekToはスキップ
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 再生完了コールバック実行
 LOG  🎤 CanvasEditor: 再生完了コールバック受信
 LOG  🎤 再生完了前の状態: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了 - UI状態リセット完了: {"audioCurrentTime": 0, "audioPlayState": "paused", "currentSentenceIndex": 0, "highlightRangesCount": 0, "isTTSPlaying": false}
 LOG  🎤 再生完了処理完了 - 00:00にリセット
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  ⏰ 自動保存タイマー実行
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": false, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  📝 自動保存スキップ: 未変更
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 93.64285714285715, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 再生速度を再適用: 2
 LOG  🎤 再生速度適用開始: 2
 LOG  🎤 再生速度適用完了: 2
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 0
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 0
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "30.02ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 30.02325001358986}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "14.13ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 14.126417011022568}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": false, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3"}
 LOG  🎵 TTS再生開始処理: {"ttsAudioUrl": true}
 LOG  🎵 TTS再生開始 - 全サブツールバー強制非表示
 LOG  🎵 サブツールバー強制非表示完了
 LOG  🎵 TTS音声URL確認済み - 再生開始: http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3
 LOG  🎵 再生開始前の状態確認: {"currentPosition": 0, "duration": 93.64285714285715, "isPlaying": false}
 LOG  🎵 最初から再生開始
 LOG  🎤 TTS再生開始: {"audioSourceType": "object", "currentPosition": 0, "hasAudioPlayerRef": true, "hasAudioSource": true, "isResuming": false}
 LOG  🎤 音声ロード開始 (初回または再生完了後)
 LOG  音声リソース解放
 LOG  音声ファイル読み込み完了: http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3
 LOG  🎤 音声ロード完了
 LOG  🎤 再生完了イベントリスナー設定完了
 LOG  🎤 再生速度を再適用: 2
 LOG  🎤 再生速度適用開始: 2
 LOG  🎤 再生速度適用完了: 2
 LOG  🎤 音声再生開始
 LOG  音声再生開始
 LOG  🎤 TTS音声再生開始完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS再生開始完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "paused"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "paused"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時: 既に停止済み
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.12, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.12, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  🚀 UniversalNoteService統一自動保存開始
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🚨🚨🚨 CRITICAL performAutoSave noteType判定: {"determinedType": "manual", "includesPhotoScan": false, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "route_params": {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950"}, "startsWithPhotoScan": false}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🗄️ UniversalNoteService: UniversalNoteService initialized {"config": {"debugMode": true, "enableCaching": true, "enableRetry": true, "enableValidation": true, "maxRetries": 3, "retryDelayMs": 1000}}
 LOG  🗄️ UniversalNoteService: saveNote開始 {"noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "type": "manual"}
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🚨🚨🚨 CRITICAL saveUniversalNote処理開始: {"canvasDataKeys": ["type", "version", "content", "drawingPaths", "textElements", "canvasSettings", "contentLength", "pathsCount", "elementsCount"], "currentPageIndex": 0, "hasCurrentPageData": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "noteType": "manual", "title": "ノート2025-06-13"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "33.31ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 33.31333300471306}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  Recording updated successfully
 LOG  🗄️ UniversalNoteService: saveNote完了 {"duration": "16.14ms", "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "success": true}
 LOG  ✅ UniversalNoteService自動保存完了: {"contentLength": 437, "noteType": "manual", "pathsCount": 1, "saveTime": 16.138499975204468}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🔄 コンポーネントアンマウント時の最終保存...
 LOG  🔄 自動保存チェック: {"contentLength": 437, "hasUnsavedChanges": true, "isSaving": true, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "pathsCount": 1}
 LOG  ⏳ 自動保存スキップ: 保存処理中
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.349, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.349, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.582, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.582, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 0.816, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 0.816, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.049, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.049, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.283, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.283, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.515, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.515, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.748, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.748, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 1.981, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 1.981, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.214, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.214, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.447, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.447, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.679, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.679, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 2.913, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 2.913, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.146, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.146, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵 TTS同期ハイライト更新: 1
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.366, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.366, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.578, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.578, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 3.812, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 3.812, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.045, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.045, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.279, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.279, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.511, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.511, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.744, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.744, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 4.977, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 4.977, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.209, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.209, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.443, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.443, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.676, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.676, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 5.909, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 5.909, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.142, "hasCallback": true, "isPlaying": true}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.142, "isPlaying": true}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🎵🎵🎵 音声ボタンがタップされました！
 LOG  🎵🎵🎵 handleAudioPlay関数開始: {"contentLength": 437, "hasContent": true, "isTTSPlaying": true, "ttsAudioUrl": "http://192.168.0.46:8000/api/v1/tts/audio/24946803-1008-45f1-97ab-be6576e38edd.mp3"}
 LOG  🎵 TTS一時停止処理開始
 LOG  音声再生一時停止
 LOG  🎤 一時停止時の位置保存: 6.349
 LOG  🎤 TTS音声再生一時停止 - 最終位置: 6.349
 LOG  🎤 notifyStateChange 呼び出し: {"currentPosition": 6.349, "hasCallback": true, "isPlaying": false}
 LOG  🎤 CanvasEditor: onStateChange受信: {"currentPosition": 6.349, "isPlaying": false}
 LOG  🎤 onStateChange コールバック実行完了
 LOG  🎵 TTS一時停止完了
 LOG  🏷️ 変更フラグ設定: {"data": {"playState": "playing"}, "hasUnsavedChanges": true, "toolbarFunction": "voice_record"}
 LOG  🚀 統一自動保存Hook実行: voice_record
 LOG  🎯 useAutoSave: 変更フラグ設定 {"data": {"playState": "playing"}, "toolbarFunction": "voice_record"}
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}
 LOG  🎯 useAutoSave: 自動保存タイマー停止 
 LOG  🎤 ナビゲーション離脱時の音声一時停止
 LOG  🎯 useAutoSave: 自動保存タイマー開始: 5秒間隔 
 LOG  🕒 自動保存タイマー再開始: 5秒間隔
 LOG  🔍🔍🔍 CRITICAL noteType判定: {"actualNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "includesImport": false, "includesPhotoScan": false, "newNoteId": null, "noteId": "aea8f66a-a020-464f-956d-a150c0cef950", "recordingState": "idle", "routeParamsNoteId": "aea8f66a-a020-464f-956d-a150c0cef950", "startsWithPhotoScan": false, "判定結果": "manual"}
 LOG  ✅ 手動ノートとして判定
 LOG  🎨 getTextInputStyle実行結果: {"actualFontSize": 16, "actualLineHeight": 19.2, "color": "#000000", "fontSize": 16, "fontWeight": "normal", "letterSpacing": 0, "lineSpacing": 1.2, "selectedTextType": "body"}